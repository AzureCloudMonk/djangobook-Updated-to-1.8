<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Appendix A: Model Definition Reference &mdash; Mastering Django</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Mastering Django" href="index.html" />
    <link rel="next" title="Appendix B: Database API Reference" href="appendix_B.html" />
    <link rel="prev" title="Chapter 21: Security in Django" href="chapter_21.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Mastering Django</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="chapter_21.html" title="Chapter 21: Security in Django"
             accesskey="P">previous</a> |
          <a href="appendix_B.html" title="Appendix B: Database API Reference"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="appendix-a-model-definition-reference">
<h1>Appendix A: Model Definition Reference<a class="headerlink" href="#appendix-a-model-definition-reference" title="Permalink to this headline">¶</a></h1>
<p>Chapter 4 explains the basics of defining models, and we use them throughout
the rest of the book. There is, however, a <em>huge</em> range of model options
available not covered elsewhere. This appendix explains each possible model
definition option.</p>
<p>Note that although these APIs are considered stable, the Django developers
consistently add new shortcuts and conveniences to the model definition. It&#8217;s a
good idea to always check the latest documentation online at
<a class="reference external" href="http://docs.djangoproject.com/">http://docs.djangoproject.com/</a>.</p>
<div class="section" id="fields">
<h2>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h2>
<p>The most important part of a model &#8211; and the only required part of a model &#8211;
is the list of database fields it defines.</p>
<div class="admonition-field-name-restrictions admonition">
<p class="first admonition-title">Field Name Restrictions</p>
<p>Django places only two restrictions on model field names:</p>
<ol class="last arabic">
<li><p class="first">A field name cannot be a Python reserved word, because that would result
in a Python syntax error. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>class Example(models.Model):
    pass = models.IntegerField() # &#39;pass&#39; is a reserved word!
</pre></div>
</div>
</li>
<li><p class="first">A field name cannot contain more than one underscore in a row, due to
the way Django&#8217;s query lookup syntax works. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">foo__bar</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span> <span class="c"># &#39;foo__bar&#39; has two underscores!</span>
</pre></div>
</div>
</li>
</ol>
</div>
<p>Each field in your model should be an instance of the appropriate <code class="docutils literal"><span class="pre">Field</span></code>
class. Django uses the field class types to determine a few things:</p>
<ul class="simple">
<li>The database column type (e.g., <code class="docutils literal"><span class="pre">INTEGER</span></code>, <code class="docutils literal"><span class="pre">VARCHAR</span></code>).</li>
<li>The widget to use in Django&#8217;s forms and admin site, if you care to use it
(e.g., <code class="docutils literal"><span class="pre">&lt;input</span> <span class="pre">type=&quot;text&quot;&gt;</span></code>, <code class="docutils literal"><span class="pre">&lt;select&gt;</span></code>).</li>
<li>The minimal validation requirements, which are used in Django&#8217;s admin
interface and by forms.</li>
</ul>
<p>A complete list of field classes follows, sorted alphabetically. Note that
relationship fields (<code class="docutils literal"><span class="pre">ForeignKey</span></code>, etc.) are handled in the next section.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Technically, these models are defined in <code class="xref py py-mod docutils literal"><span class="pre">django.db.models.fields</span></code>, but
for convenience they&#8217;re imported into <code class="xref py py-mod docutils literal"><span class="pre">django.db.models</span></code>; the standard
convention is to use <code class="docutils literal"><span class="pre">from</span> <span class="pre">django.db</span> <span class="pre">import</span> <span class="pre">models</span></code> and refer to fields as
<code class="docutils literal"><span class="pre">models.&lt;Foo&gt;Field</span></code>.</p>
</div>
<div class="section" id="autofield">
<h3><code class="docutils literal"><span class="pre">AutoField</span></code><a class="headerlink" href="#autofield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="AutoField">
<em class="property">class </em><code class="descname">AutoField</code><span class="sig-paren">(</span><em>**options</em><span class="sig-paren">)</span><a class="headerlink" href="#AutoField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>An <code class="xref py py-class docutils literal"><span class="pre">IntegerField</span></code> that automatically increments
according to available IDs. You usually won&#8217;t need to use this directly; a
primary key field will automatically be added to your model if you don&#8217;t
specify otherwise.</p>
</div>
<div class="section" id="bigintegerfield">
<h3><code class="docutils literal"><span class="pre">BigIntegerField</span></code><a class="headerlink" href="#bigintegerfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="BigIntegerField">
<em class="property">class </em><code class="descname">BigIntegerField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#BigIntegerField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A 64 bit integer, much like an <code class="xref py py-class docutils literal"><span class="pre">IntegerField</span></code> except that it is
guaranteed to fit numbers from <code class="docutils literal"><span class="pre">-9223372036854775808</span></code> to
<code class="docutils literal"><span class="pre">9223372036854775807</span></code>. The default form widget for this field is a
<code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>.</p>
</div>
<div class="section" id="binaryfield">
<h3><code class="docutils literal"><span class="pre">BinaryField</span></code><a class="headerlink" href="#binaryfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="BinaryField">
<em class="property">class </em><code class="descname">BinaryField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#BinaryField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A field to store raw binary data. It only supports <code class="docutils literal"><span class="pre">bytes</span></code> assignment. Be
aware that this field has limited functionality. For example, it is not possible
to filter a queryset on a <code class="docutils literal"><span class="pre">BinaryField</span></code> value.</p>
<div class="admonition-abusing-binaryfield admonition">
<p class="first admonition-title">Abusing <code class="docutils literal"><span class="pre">BinaryField</span></code></p>
<p class="last">Although you might think about storing files in the database, consider that
it is bad design in 99% of the cases. This field is <em>not</em> a replacement for
proper static files handling.</p>
</div>
</div>
<div class="section" id="booleanfield">
<h3><code class="docutils literal"><span class="pre">BooleanField</span></code><a class="headerlink" href="#booleanfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="BooleanField">
<em class="property">class </em><code class="descname">BooleanField</code><span class="sig-paren">(</span><em>**options</em><span class="sig-paren">)</span><a class="headerlink" href="#BooleanField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A true/false field.</p>
<p>The default form widget for this field is a
<code class="xref py py-class docutils literal"><span class="pre">CheckboxInput</span></code>.</p>
<p>If you need to accept <code class="xref py py-attr docutils literal"><span class="pre">null</span></code> values then use
<code class="xref py py-class docutils literal"><span class="pre">NullBooleanField</span></code> instead.</p>
<p>The default value of <code class="docutils literal"><span class="pre">BooleanField</span></code> is <code class="docutils literal"><span class="pre">None</span></code> when <code class="xref py py-attr docutils literal"><span class="pre">Field.default</span></code>
isn&#8217;t defined.</p>
</div>
<div class="section" id="charfield">
<h3><code class="docutils literal"><span class="pre">CharField</span></code><a class="headerlink" href="#charfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="CharField">
<em class="property">class </em><code class="descname">CharField</code><span class="sig-paren">(</span><em>max_length=None</em><span class="optional">[</span>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CharField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A string field, for small- to large-sized strings.</p>
<p>For large amounts of text, use <a class="reference internal" href="#django.db.models.TextField" title="django.db.models.TextField"><code class="xref py py-class docutils literal"><span class="pre">TextField</span></code></a>.</p>
<p>The default form widget for this field is a <code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>.</p>
<p><a class="reference internal" href="#CharField" title="CharField"><code class="xref py py-class docutils literal"><span class="pre">CharField</span></code></a> has one extra required argument:</p>
<dl class="attribute">
<dt id="CharField.max_length">
<code class="descclassname">CharField.</code><code class="descname">max_length</code><a class="headerlink" href="#CharField.max_length" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum length (in characters) of the field. The max_length is enforced
at the database level and in Django&#8217;s validation.</p>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are writing an application that must be portable to multiple
database backends, you should be aware that there are restrictions on
<code class="docutils literal"><span class="pre">max_length</span></code> for some backends.</p>
</div>
<div class="admonition-mysql-users admonition">
<p class="first admonition-title">MySQL users</p>
<p class="last">If you are using this field with MySQLdb 1.2.2 and the <code class="docutils literal"><span class="pre">utf8_bin</span></code>
collation (which is <em>not</em> the default), there are some issues to be aware
of. Refer to Chapter 23 for
details.</p>
</div>
</div>
<div class="section" id="commaseparatedintegerfield">
<h3><code class="docutils literal"><span class="pre">CommaSeparatedIntegerField</span></code><a class="headerlink" href="#commaseparatedintegerfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="CommaSeparatedIntegerField">
<em class="property">class </em><code class="descname">CommaSeparatedIntegerField</code><span class="sig-paren">(</span><em>max_length=None</em><span class="optional">[</span>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CommaSeparatedIntegerField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A field of integers separated by commas. As in <a class="reference internal" href="#CharField" title="CharField"><code class="xref py py-class docutils literal"><span class="pre">CharField</span></code></a>, the
<a class="reference internal" href="#CharField.max_length" title="CharField.max_length"><code class="xref py py-attr docutils literal"><span class="pre">max_length</span></code></a> argument is required and the note about database
portability mentioned there should be heeded.</p>
</div>
<div class="section" id="datefield">
<h3><code class="docutils literal"><span class="pre">DateField</span></code><a class="headerlink" href="#datefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="DateField">
<em class="property">class </em><code class="descname">DateField</code><span class="sig-paren">(</span><span class="optional">[</span><em>auto_now=False</em>, <em>auto_now_add=False</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#DateField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A date, represented in Python by a <code class="docutils literal"><span class="pre">datetime.date</span></code> instance. Has a few extra,
optional arguments:</p>
<dl class="attribute">
<dt id="DateField.auto_now">
<code class="descclassname">DateField.</code><code class="descname">auto_now</code><a class="headerlink" href="#DateField.auto_now" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically set the field to now every time the object is saved. Useful
for &#8220;last-modified&#8221; timestamps. Note that the current date is <em>always</em>
used; it&#8217;s not just a default value that you can override.</p>
</dd></dl>

<dl class="attribute">
<dt id="DateField.auto_now_add">
<code class="descclassname">DateField.</code><code class="descname">auto_now_add</code><a class="headerlink" href="#DateField.auto_now_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically set the field to now when the object is first created. Useful
for creation of timestamps. Note that the current date is <em>always</em> used;
it&#8217;s not just a default value that you can override.</p>
</dd></dl>

<p>The default form widget for this field is a
<code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>. The admin adds a JavaScript calendar,
and a shortcut for &#8220;Today&#8221;. Includes an additional <code class="docutils literal"><span class="pre">invalid_date</span></code> error
message key.</p>
<p>The options <code class="docutils literal"><span class="pre">auto_now_add</span></code>, <code class="docutils literal"><span class="pre">auto_now</span></code>, and <code class="docutils literal"><span class="pre">default</span></code> are mutually exclusive.
Any combination of these options will result in an error.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As currently implemented, setting <code class="docutils literal"><span class="pre">auto_now</span></code> or <code class="docutils literal"><span class="pre">auto_now_add</span></code> to
<code class="docutils literal"><span class="pre">True</span></code> will cause the field to have <code class="docutils literal"><span class="pre">editable=False</span></code> and <code class="docutils literal"><span class="pre">blank=True</span></code>
set.</p>
</div>
</div>
<div class="section" id="datetimefield">
<h3><code class="docutils literal"><span class="pre">DateTimeField</span></code><a class="headerlink" href="#datetimefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="DateTimeField">
<em class="property">class </em><code class="descname">DateTimeField</code><span class="sig-paren">(</span><span class="optional">[</span><em>auto_now=False</em>, <em>auto_now_add=False</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#DateTimeField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A date and time, represented in Python by a <code class="docutils literal"><span class="pre">datetime.datetime</span></code> instance.
Takes the same extra arguments as <a class="reference internal" href="#DateField" title="DateField"><code class="xref py py-class docutils literal"><span class="pre">DateField</span></code></a>.</p>
<p>The default form widget for this field is a single
<code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>. The admin uses two separate
<code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code> widgets with JavaScript shortcuts.</p>
</div>
<div class="section" id="decimalfield">
<h3><code class="docutils literal"><span class="pre">DecimalField</span></code><a class="headerlink" href="#decimalfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="DecimalField">
<em class="property">class </em><code class="descname">DecimalField</code><span class="sig-paren">(</span><em>max_digits=None</em>, <em>decimal_places=None</em><span class="optional">[</span>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#DecimalField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A fixed-precision decimal number, represented in Python by a
<code class="xref py py-class docutils literal"><span class="pre">Decimal</span></code> instance. Has two <strong>required</strong> arguments:</p>
<dl class="attribute">
<dt id="DecimalField.max_digits">
<code class="descclassname">DecimalField.</code><code class="descname">max_digits</code><a class="headerlink" href="#DecimalField.max_digits" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of digits allowed in the number. Note that this number
must be greater than or equal to <code class="docutils literal"><span class="pre">decimal_places</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="DecimalField.decimal_places">
<code class="descclassname">DecimalField.</code><code class="descname">decimal_places</code><a class="headerlink" href="#DecimalField.decimal_places" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of decimal places to store with the number.</p>
</dd></dl>

<p>For example, to store numbers up to <code class="docutils literal"><span class="pre">999</span></code> with a resolution of 2 decimal
places, you&#8217;d use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">max_digits</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>And to store numbers up to approximately one billion with a resolution of 10
decimal places:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">max_digits</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>The default form widget for this field is a <code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For more information about the differences between the
<code class="xref py py-class docutils literal"><span class="pre">FloatField</span></code> and <a class="reference internal" href="#DecimalField" title="DecimalField"><code class="xref py py-class docutils literal"><span class="pre">DecimalField</span></code></a> classes, please
see FloatField vs. DecimalField.</p>
</div>
</div>
<div class="section" id="durationfield">
<h3><code class="docutils literal"><span class="pre">DurationField</span></code><a class="headerlink" href="#durationfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="DurationField">
<em class="property">class </em><code class="descname">DurationField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#DurationField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A field for storing periods of time - modeled in Python by
<code class="xref py py-class docutils literal"><span class="pre">timedelta</span></code>. When used on PostgreSQL, the data type
used is an <code class="docutils literal"><span class="pre">interval</span></code> and on Oracle the data type is <code class="docutils literal"><span class="pre">INTERVAL</span> <span class="pre">DAY(9)</span> <span class="pre">TO</span>
<span class="pre">SECOND(6)</span></code>. Otherwise a <code class="docutils literal"><span class="pre">bigint</span></code> of microseconds is used.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Arithmetic with <code class="docutils literal"><span class="pre">DurationField</span></code> works in most cases. However on all
databases other than PostgreSQL, comparing the value of a <code class="docutils literal"><span class="pre">DurationField</span></code>
to arithmetic on <code class="docutils literal"><span class="pre">DateTimeField</span></code> instances will not work as expected.</p>
</div>
</div>
<div class="section" id="emailfield">
<h3><code class="docutils literal"><span class="pre">EmailField</span></code><a class="headerlink" href="#emailfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="EmailField">
<em class="property">class </em><code class="descname">EmailField</code><span class="sig-paren">(</span><span class="optional">[</span><em>max_length=254</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#EmailField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A <a class="reference internal" href="#CharField" title="CharField"><code class="xref py py-class docutils literal"><span class="pre">CharField</span></code></a> that checks that the value is a valid email address. It
uses <code class="xref py py-class docutils literal"><span class="pre">EmailValidator</span></code> to validate the input.</p>
</div>
<div class="section" id="filefield">
<h3><code class="docutils literal"><span class="pre">FileField</span></code><a class="headerlink" href="#filefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="FileField">
<em class="property">class </em><code class="descname">FileField</code><span class="sig-paren">(</span><span class="optional">[</span><em>upload_to=None</em>, <em>max_length=100</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#FileField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A file-upload field.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">primary_key</span></code> and <code class="docutils literal"><span class="pre">unique</span></code> arguments are not supported, and will
raise a <code class="docutils literal"><span class="pre">TypeError</span></code> if used.</p>
</div>
<p>Has two optional arguments:</p>
<dl class="attribute">
<dt id="FileField.upload_to">
<code class="descclassname">FileField.</code><code class="descname">upload_to</code><a class="headerlink" href="#FileField.upload_to" title="Permalink to this definition">¶</a></dt>
<dd><p>A local filesystem path that will be appended to your <code class="docutils literal"><span class="pre">MEDIA_ROOT</span></code>
setting to determine the value of the
<a class="reference internal" href="#django.db.models.fields.files.FieldFile.url" title="django.db.models.fields.files.FieldFile.url"><code class="xref py py-attr docutils literal"><span class="pre">url</span></code></a> attribute.</p>
<p>This path may contain <code class="xref py py-func docutils literal"><span class="pre">strftime()</span></code> formatting, which will be
replaced by the date/time of the file upload (so that uploaded files don&#8217;t
fill up the given directory).</p>
<p>This may also be a callable, such as a function, which will be called to
obtain the upload path, including the filename. This callable must be able
to accept two arguments, and return a Unix-style path (with forward slashes)
to be passed along to the storage system. The two arguments that will be
passed are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">instance</span></code></td>
<td><p class="first">An instance of the model where the
<code class="docutils literal"><span class="pre">FileField</span></code> is defined. More specifically,
this is the particular instance where the
current file is being attached.</p>
<p class="last">In most cases, this object will not have been
saved to the database yet, so if it uses the
default <code class="docutils literal"><span class="pre">AutoField</span></code>, <em>it might not yet have a
value for its primary key field</em>.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">filename</span></code></td>
<td>The filename that was originally given to the
file. This may or may not be taken into account
when determining the final destination path.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="FileField.storage">
<code class="descclassname">FileField.</code><code class="descname">storage</code><a class="headerlink" href="#FileField.storage" title="Permalink to this definition">¶</a></dt>
<dd><p>A storage object, which handles the storage and retrieval of your
files.</p>
</dd></dl>

<p>The default form widget for this field is a
<code class="xref py py-class docutils literal"><span class="pre">ClearableFileInput</span></code>.</p>
<p>Using a <a class="reference internal" href="#FileField" title="FileField"><code class="xref py py-class docutils literal"><span class="pre">FileField</span></code></a> or an <code class="xref py py-class docutils literal"><span class="pre">ImageField</span></code> (see below) in a model
takes a few steps:</p>
<ol class="arabic simple">
<li>In your settings file, you&#8217;ll need to define <code class="docutils literal"><span class="pre">MEDIA_ROOT</span></code> as the
full path to a directory where you&#8217;d like Django to store uploaded files.
(For performance, these files are not stored in the database.) Define
<code class="docutils literal"><span class="pre">MEDIA_URL</span></code> as the base public URL of that directory. Make sure
that this directory is writable by the Web server&#8217;s user account.</li>
<li>Add the <a class="reference internal" href="#FileField" title="FileField"><code class="xref py py-class docutils literal"><span class="pre">FileField</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">ImageField</span></code> to your model, defining
the <a class="reference internal" href="#FileField.upload_to" title="FileField.upload_to"><code class="xref py py-attr docutils literal"><span class="pre">upload_to</span></code></a> option to specify a subdirectory of
<code class="docutils literal"><span class="pre">MEDIA_ROOT</span></code> to use for uploaded files.</li>
<li>All that will be stored in your database is a path to the file
(relative to <code class="docutils literal"><span class="pre">MEDIA_ROOT</span></code>). You&#8217;ll most likely want to use the
convenience <a class="reference internal" href="#django.db.models.fields.files.FieldFile.url" title="django.db.models.fields.files.FieldFile.url"><code class="xref py py-attr docutils literal"><span class="pre">url</span></code></a> attribute
provided by Django. For example, if your <code class="xref py py-class docutils literal"><span class="pre">ImageField</span></code> is called
<code class="docutils literal"><span class="pre">mug_shot</span></code>, you can get the absolute path to your image in a template with
<code class="docutils literal"><span class="pre">{{</span> <span class="pre">object.mug_shot.url</span> <span class="pre">}}</span></code>.</li>
</ol>
<p>For example, say your <code class="docutils literal"><span class="pre">MEDIA_ROOT</span></code> is set to <code class="docutils literal"><span class="pre">'/home/media'</span></code>, and
<a class="reference internal" href="#FileField.upload_to" title="FileField.upload_to"><code class="xref py py-attr docutils literal"><span class="pre">upload_to</span></code></a> is set to <code class="docutils literal"><span class="pre">'photos/%Y/%m/%d'</span></code>. The <code class="docutils literal"><span class="pre">'%Y/%m/%d'</span></code>
part of <a class="reference internal" href="#FileField.upload_to" title="FileField.upload_to"><code class="xref py py-attr docutils literal"><span class="pre">upload_to</span></code></a> is <code class="xref py py-func docutils literal"><span class="pre">strftime()</span></code> formatting;
<code class="docutils literal"><span class="pre">'%Y'</span></code> is the four-digit year, <code class="docutils literal"><span class="pre">'%m'</span></code> is the two-digit month and <code class="docutils literal"><span class="pre">'%d'</span></code> is
the two-digit day. If you upload a file on Jan. 15, 2007, it will be saved in
the directory <code class="docutils literal"><span class="pre">/home/media/photos/2007/01/15</span></code>.</p>
<p>If you wanted to retrieve the uploaded file&#8217;s on-disk filename, or the file&#8217;s
size, you could use the <code class="xref py py-attr docutils literal"><span class="pre">name</span></code> and
<code class="xref py py-attr docutils literal"><span class="pre">size</span></code> attributes respectively; for more
information on the available attributes and methods, see the
<code class="xref py py-class docutils literal"><span class="pre">File</span></code> class reference and the Files
topic guide.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The file is saved as part of saving the model in the database, so the actual
file name used on disk cannot be relied on until after the model has been
saved.</p>
</div>
<p>The uploaded file&#8217;s relative URL can be obtained using the
<a class="reference internal" href="#django.db.models.fields.files.FieldFile.url" title="django.db.models.fields.files.FieldFile.url"><code class="xref py py-attr docutils literal"><span class="pre">url</span></code></a> attribute. Internally,
this calls the <code class="xref py py-meth docutils literal"><span class="pre">url()</span></code> method of the
underlying <code class="xref py py-class docutils literal"><span class="pre">Storage</span></code> class.</p>
<p id="file-upload-security">Note that whenever you deal with uploaded files, you should pay close attention
to where you&#8217;re uploading them and what type of files they are, to avoid
security holes. <em>Validate all uploaded files</em> so that you&#8217;re sure the files are
what you think they are. For example, if you blindly let somebody upload files,
without validation, to a directory that&#8217;s within your Web server&#8217;s document
root, then somebody could upload a CGI or PHP script and execute that script by
visiting its URL on your site. Don&#8217;t allow that.</p>
<p>Also note that even an uploaded HTML file, since it can be executed by the
browser (though not by the server), can pose security threats that are
equivalent to XSS or CSRF attacks.</p>
<p><a class="reference internal" href="#FileField" title="FileField"><code class="xref py py-class docutils literal"><span class="pre">FileField</span></code></a> instances are created in your database as <code class="docutils literal"><span class="pre">varchar</span></code>
columns with a default max length of 100 characters. As with other fields, you
can change the maximum length using the <a class="reference internal" href="#CharField.max_length" title="CharField.max_length"><code class="xref py py-attr docutils literal"><span class="pre">max_length</span></code></a> argument.</p>
<div class="section" id="filefield-and-fieldfile">
<h4>FileField and FieldFile<a class="headerlink" href="#filefield-and-fieldfile" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="django.db.models.fields.files.FieldFile">
<em class="property">class </em><code class="descclassname">django.db.models.fields.files.</code><code class="descname">FieldFile</code><a class="headerlink" href="#django.db.models.fields.files.FieldFile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>When you access a <code class="xref py py-class docutils literal"><span class="pre">FileField</span></code> on a model, you are
given an instance of <a class="reference internal" href="#django.db.models.fields.files.FieldFile" title="django.db.models.fields.files.FieldFile"><code class="xref py py-class docutils literal"><span class="pre">FieldFile</span></code></a> as a proxy for accessing the underlying
file. In addition to the functionality inherited from
<code class="xref py py-class docutils literal"><span class="pre">django.core.files.File</span></code>, this class has several attributes and methods
that can be used to interact with file data:</p>
<dl class="attribute">
<dt id="django.db.models.fields.files.FieldFile.url">
<code class="descclassname">FieldFile.</code><code class="descname">url</code><a class="headerlink" href="#django.db.models.fields.files.FieldFile.url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A read-only property to access the file&#8217;s relative URL by calling the
<code class="xref py py-meth docutils literal"><span class="pre">url()</span></code> method of the underlying
<code class="xref py py-class docutils literal"><span class="pre">Storage</span></code> class.</p>
<dl class="method">
<dt id="django.db.models.fields.files.FieldFile.open">
<code class="descclassname">FieldFile.</code><code class="descname">open</code><span class="sig-paren">(</span><em>mode='rb'</em><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.fields.files.FieldFile.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Behaves like the standard Python <code class="docutils literal"><span class="pre">open()</span></code> method and opens the file
associated with this instance in the mode specified by <code class="docutils literal"><span class="pre">mode</span></code>.</p>
<dl class="method">
<dt id="django.db.models.fields.files.FieldFile.close">
<code class="descclassname">FieldFile.</code><code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.fields.files.FieldFile.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Behaves like the standard Python <code class="docutils literal"><span class="pre">file.close()</span></code> method and closes the file
associated with this instance.</p>
<dl class="method">
<dt id="django.db.models.fields.files.FieldFile.save">
<code class="descclassname">FieldFile.</code><code class="descname">save</code><span class="sig-paren">(</span><em>name</em>, <em>content</em>, <em>save=True</em><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.fields.files.FieldFile.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>This method takes a filename and file contents and passes them to the storage
class for the field, then associates the stored file with the model field.
If you want to manually associate file data with
<code class="xref py py-class docutils literal"><span class="pre">FileField</span></code> instances on your model, the <code class="docutils literal"><span class="pre">save()</span></code>
method is used to persist that file data.</p>
<p>Takes two required arguments: <code class="docutils literal"><span class="pre">name</span></code> which is the name of the file, and
<code class="docutils literal"><span class="pre">content</span></code> which is an object containing the file&#8217;s contents.  The
optional <code class="docutils literal"><span class="pre">save</span></code> argument controls whether or not the model instance is
saved after the file associated with this field has been altered. Defaults to
<code class="docutils literal"><span class="pre">True</span></code>.</p>
<p>Note that the <code class="docutils literal"><span class="pre">content</span></code> argument should be an instance of
<code class="xref py py-class docutils literal"><span class="pre">django.core.files.File</span></code>, not Python&#8217;s built-in file object.
You can construct a <code class="xref py py-class docutils literal"><span class="pre">File</span></code> from an existing
Python file object like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.core.files</span> <span class="kn">import</span> <span class="n">File</span>
<span class="c"># Open an existing file using Python&#39;s built-in open()</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;/tmp/hello.world&#39;</span><span class="p">)</span>
<span class="n">myfile</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p>Or you can construct one from a Python string like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.core.files.base</span> <span class="kn">import</span> <span class="n">ContentFile</span>
<span class="n">myfile</span> <span class="o">=</span> <span class="n">ContentFile</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="django.db.models.fields.files.FieldFile.delete">
<code class="descclassname">FieldFile.</code><code class="descname">delete</code><span class="sig-paren">(</span><em>save=True</em><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.fields.files.FieldFile.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Deletes the file associated with this instance and clears all attributes on
the field. Note: This method will close the file if it happens to be open when
<code class="docutils literal"><span class="pre">delete()</span></code> is called.</p>
<p>The optional <code class="docutils literal"><span class="pre">save</span></code> argument controls whether or not the model instance is
saved after the file associated with this field has been deleted. Defaults to
<code class="docutils literal"><span class="pre">True</span></code>.</p>
<p>Note that when a model is deleted, related files are not deleted. If you need
to cleanup orphaned files, you&#8217;ll need to handle it yourself (for instance,
with a custom management command that can be run manually or scheduled to run
periodically via e.g. cron).</p>
</div>
</div>
<div class="section" id="filepathfield">
<h3><code class="docutils literal"><span class="pre">FilePathField</span></code><a class="headerlink" href="#filepathfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.FilePathField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">FilePathField</code><span class="sig-paren">(</span><em>path=None</em><span class="optional">[</span>, <em>match=None</em>, <em>recursive=False</em>, <em>max_length=100</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.FilePathField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A <a class="reference internal" href="#CharField" title="CharField"><code class="xref py py-class docutils literal"><span class="pre">CharField</span></code></a> whose choices are limited to the filenames in a certain
directory on the filesystem. Has three special arguments, of which the first is
<strong>required</strong>:</p>
<dl class="attribute">
<dt id="django.db.models.FilePathField.path">
<code class="descclassname">FilePathField.</code><code class="descname">path</code><a class="headerlink" href="#django.db.models.FilePathField.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Required. The absolute filesystem path to a directory from which this
<a class="reference internal" href="#django.db.models.FilePathField" title="django.db.models.FilePathField"><code class="xref py py-class docutils literal"><span class="pre">FilePathField</span></code></a> should get its choices. Example: <code class="docutils literal"><span class="pre">&quot;/home/images&quot;</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.FilePathField.match">
<code class="descclassname">FilePathField.</code><code class="descname">match</code><a class="headerlink" href="#django.db.models.FilePathField.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional. A regular expression, as a string, that <a class="reference internal" href="#django.db.models.FilePathField" title="django.db.models.FilePathField"><code class="xref py py-class docutils literal"><span class="pre">FilePathField</span></code></a>
will use to filter filenames. Note that the regex will be applied to the
base filename, not the full path. Example: <code class="docutils literal"><span class="pre">&quot;foo.*\.txt$&quot;</span></code>, which will
match a file called <code class="docutils literal"><span class="pre">foo23.txt</span></code> but not <code class="docutils literal"><span class="pre">bar.txt</span></code> or <code class="docutils literal"><span class="pre">foo23.png</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.FilePathField.recursive">
<code class="descclassname">FilePathField.</code><code class="descname">recursive</code><a class="headerlink" href="#django.db.models.FilePathField.recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional. Either <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code>. Default is <code class="docutils literal"><span class="pre">False</span></code>. Specifies
whether all subdirectories of <a class="reference internal" href="#django.db.models.FilePathField.path" title="django.db.models.FilePathField.path"><code class="xref py py-attr docutils literal"><span class="pre">path</span></code></a> should be included</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.FilePathField.allow_files">
<code class="descclassname">FilePathField.</code><code class="descname">allow_files</code><a class="headerlink" href="#django.db.models.FilePathField.allow_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional.  Either <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code>.  Default is <code class="docutils literal"><span class="pre">True</span></code>.  Specifies
whether files in the specified location should be included.  Either this or
<a class="reference internal" href="#django.db.models.FilePathField.allow_folders" title="django.db.models.FilePathField.allow_folders"><code class="xref py py-attr docutils literal"><span class="pre">allow_folders</span></code></a> must be <code class="docutils literal"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.FilePathField.allow_folders">
<code class="descclassname">FilePathField.</code><code class="descname">allow_folders</code><a class="headerlink" href="#django.db.models.FilePathField.allow_folders" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional.  Either <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code>.  Default is <code class="docutils literal"><span class="pre">False</span></code>.  Specifies
whether folders in the specified location should be included.  Either this
or <a class="reference internal" href="#django.db.models.FilePathField.allow_files" title="django.db.models.FilePathField.allow_files"><code class="xref py py-attr docutils literal"><span class="pre">allow_files</span></code></a> must be <code class="docutils literal"><span class="pre">True</span></code>.</p>
</dd></dl>

<p>Of course, these arguments can be used together.</p>
<p>The one potential gotcha is that <a class="reference internal" href="#django.db.models.FilePathField.match" title="django.db.models.FilePathField.match"><code class="xref py py-attr docutils literal"><span class="pre">match</span></code></a> applies to the
base filename, not the full path. So, this example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">FilePathField</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s">&quot;/home/images&quot;</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s">&quot;foo.*&quot;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>...will match <code class="docutils literal"><span class="pre">/home/images/foo.png</span></code> but not <code class="docutils literal"><span class="pre">/home/images/foo/bar.png</span></code>
because the <a class="reference internal" href="#django.db.models.FilePathField.match" title="django.db.models.FilePathField.match"><code class="xref py py-attr docutils literal"><span class="pre">match</span></code></a> applies to the base filename
(<code class="docutils literal"><span class="pre">foo.png</span></code> and <code class="docutils literal"><span class="pre">bar.png</span></code>).</p>
<p><a class="reference internal" href="#django.db.models.FilePathField" title="django.db.models.FilePathField"><code class="xref py py-class docutils literal"><span class="pre">FilePathField</span></code></a> instances are created in your database as <code class="docutils literal"><span class="pre">varchar</span></code>
columns with a default max length of 100 characters. As with other fields, you
can change the maximum length using the <a class="reference internal" href="#CharField.max_length" title="CharField.max_length"><code class="xref py py-attr docutils literal"><span class="pre">max_length</span></code></a> argument.</p>
</div>
<div class="section" id="floatfield">
<h3><code class="docutils literal"><span class="pre">FloatField</span></code><a class="headerlink" href="#floatfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.FloatField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">FloatField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.FloatField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A floating-point number represented in Python by a <code class="docutils literal"><span class="pre">float</span></code> instance.</p>
<p>The default form widget for this field is a <code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>.</p>
<div class="admonition-floatfield-vs-decimalfield admonition" id="floatfield-vs-decimalfield">
<p class="first admonition-title"><code class="docutils literal"><span class="pre">FloatField</span></code> vs. <code class="docutils literal"><span class="pre">DecimalField</span></code></p>
<p class="last">The <a class="reference internal" href="#django.db.models.FloatField" title="django.db.models.FloatField"><code class="xref py py-class docutils literal"><span class="pre">FloatField</span></code></a> class is sometimes mixed up with the
<a class="reference internal" href="#DecimalField" title="DecimalField"><code class="xref py py-class docutils literal"><span class="pre">DecimalField</span></code></a> class. Although they both represent real numbers, they
represent those numbers differently. <code class="docutils literal"><span class="pre">FloatField</span></code> uses Python&#8217;s <code class="docutils literal"><span class="pre">float</span></code>
type internally, while <code class="docutils literal"><span class="pre">DecimalField</span></code> uses Python&#8217;s <code class="docutils literal"><span class="pre">Decimal</span></code> type. For
information on the difference between the two, see Python&#8217;s documentation
for the <code class="xref py py-mod docutils literal"><span class="pre">decimal</span></code> module.</p>
</div>
</div>
<div class="section" id="imagefield">
<h3><code class="docutils literal"><span class="pre">ImageField</span></code><a class="headerlink" href="#imagefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.ImageField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">ImageField</code><span class="sig-paren">(</span><span class="optional">[</span><em>upload_to=None</em>, <em>height_field=None</em>, <em>width_field=None</em>, <em>max_length=100</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.ImageField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Inherits all attributes and methods from <a class="reference internal" href="#FileField" title="FileField"><code class="xref py py-class docutils literal"><span class="pre">FileField</span></code></a>, but also
validates that the uploaded object is a valid image.</p>
<p>In addition to the special attributes that are available for <a class="reference internal" href="#FileField" title="FileField"><code class="xref py py-class docutils literal"><span class="pre">FileField</span></code></a>,
an <a class="reference internal" href="#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal"><span class="pre">ImageField</span></code></a> also has <code class="docutils literal"><span class="pre">height</span></code> and <code class="docutils literal"><span class="pre">width</span></code> attributes.</p>
<p>To facilitate querying on those attributes, <a class="reference internal" href="#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal"><span class="pre">ImageField</span></code></a> has two extra
optional arguments:</p>
<dl class="attribute">
<dt id="django.db.models.ImageField.height_field">
<code class="descclassname">ImageField.</code><code class="descname">height_field</code><a class="headerlink" href="#django.db.models.ImageField.height_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of a model field which will be auto-populated with the height of the
image each time the model instance is saved.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ImageField.width_field">
<code class="descclassname">ImageField.</code><code class="descname">width_field</code><a class="headerlink" href="#django.db.models.ImageField.width_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of a model field which will be auto-populated with the width of the
image each time the model instance is saved.</p>
</dd></dl>

<p>Requires the <a class="reference external" href="http://pillow.readthedocs.org/en/latest/">Pillow</a> library.</p>
<p><a class="reference internal" href="#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal"><span class="pre">ImageField</span></code></a> instances are created in your database as <code class="docutils literal"><span class="pre">varchar</span></code>
columns with a default max length of 100 characters. As with other fields, you
can change the maximum length using the <a class="reference internal" href="#CharField.max_length" title="CharField.max_length"><code class="xref py py-attr docutils literal"><span class="pre">max_length</span></code></a> argument.</p>
<p>The default form widget for this field is a
<code class="xref py py-class docutils literal"><span class="pre">ClearableFileInput</span></code>.</p>
</div>
<div class="section" id="integerfield">
<h3><code class="docutils literal"><span class="pre">IntegerField</span></code><a class="headerlink" href="#integerfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.IntegerField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">IntegerField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.IntegerField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>An integer. Values from <code class="docutils literal"><span class="pre">-2147483648</span></code> to <code class="docutils literal"><span class="pre">2147483647</span></code> are safe in all
databases supported by Django. The default form widget for this field is a
<code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>.</p>
</div>
<div class="section" id="genericipaddressfield">
<h3><code class="docutils literal"><span class="pre">GenericIPAddressField</span></code><a class="headerlink" href="#genericipaddressfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.GenericIPAddressField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">GenericIPAddressField</code><span class="sig-paren">(</span><span class="optional">[</span><em>protocol=both</em>, <em>unpack_ipv4=False</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.GenericIPAddressField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>An IPv4 or IPv6 address, in string format (e.g. <code class="docutils literal"><span class="pre">192.0.2.30</span></code> or
<code class="docutils literal"><span class="pre">2a02:42fe::4</span></code>). The default form widget for this field is a
<code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>.</p>
<p>The IPv6 address normalization follows <span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc4291.html#section-2.2"><strong>RFC 4291#section-2.2</strong></a> section 2.2,
including using the IPv4 format suggested in paragraph 3 of that section, like
<code class="docutils literal"><span class="pre">::ffff:192.0.2.0</span></code>. For example, <code class="docutils literal"><span class="pre">2001:0::0:01</span></code> would be normalized to
<code class="docutils literal"><span class="pre">2001::1</span></code>, and <code class="docutils literal"><span class="pre">::ffff:0a0a:0a0a</span></code> to <code class="docutils literal"><span class="pre">::ffff:10.10.10.10</span></code>. All characters
are converted to lowercase.</p>
<dl class="attribute">
<dt id="django.db.models.GenericIPAddressField.protocol">
<code class="descclassname">GenericIPAddressField.</code><code class="descname">protocol</code><a class="headerlink" href="#django.db.models.GenericIPAddressField.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Limits valid inputs to the specified protocol.
Accepted values are <code class="docutils literal"><span class="pre">'both'</span></code> (default), <code class="docutils literal"><span class="pre">'IPv4'</span></code>
or <code class="docutils literal"><span class="pre">'IPv6'</span></code>. Matching is case insensitive.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.GenericIPAddressField.unpack_ipv4">
<code class="descclassname">GenericIPAddressField.</code><code class="descname">unpack_ipv4</code><a class="headerlink" href="#django.db.models.GenericIPAddressField.unpack_ipv4" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpacks IPv4 mapped addresses like <code class="docutils literal"><span class="pre">::ffff:192.0.2.1</span></code>.
If this option is enabled that address would be unpacked to
<code class="docutils literal"><span class="pre">192.0.2.1</span></code>. Default is disabled. Can only be used
when <code class="docutils literal"><span class="pre">protocol</span></code> is set to <code class="docutils literal"><span class="pre">'both'</span></code>.</p>
</dd></dl>

<p>If you allow for blank values, you have to allow for null values since blank
values are stored as null.</p>
</div>
<div class="section" id="nullbooleanfield">
<h3><code class="docutils literal"><span class="pre">NullBooleanField</span></code><a class="headerlink" href="#nullbooleanfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.NullBooleanField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">NullBooleanField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.NullBooleanField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Like a <a class="reference internal" href="#BooleanField" title="BooleanField"><code class="xref py py-class docutils literal"><span class="pre">BooleanField</span></code></a>, but allows <code class="docutils literal"><span class="pre">NULL</span></code> as one of the options. Use
this instead of a <a class="reference internal" href="#BooleanField" title="BooleanField"><code class="xref py py-class docutils literal"><span class="pre">BooleanField</span></code></a> with <code class="docutils literal"><span class="pre">null=True</span></code>. The default form
widget for this field is a <code class="xref py py-class docutils literal"><span class="pre">NullBooleanSelect</span></code>.</p>
</div>
<div class="section" id="positiveintegerfield">
<h3><code class="docutils literal"><span class="pre">PositiveIntegerField</span></code><a class="headerlink" href="#positiveintegerfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.PositiveIntegerField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">PositiveIntegerField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.PositiveIntegerField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Like an <a class="reference internal" href="#django.db.models.IntegerField" title="django.db.models.IntegerField"><code class="xref py py-class docutils literal"><span class="pre">IntegerField</span></code></a>, but must be either positive or zero (<code class="docutils literal"><span class="pre">0</span></code>).
Values from <code class="docutils literal"><span class="pre">0</span></code> to <code class="docutils literal"><span class="pre">2147483647</span></code> are safe in all databases supported by
Django. The value <code class="docutils literal"><span class="pre">0</span></code> is accepted for backward compatibility reasons.</p>
</div>
<div class="section" id="positivesmallintegerfield">
<h3><code class="docutils literal"><span class="pre">PositiveSmallIntegerField</span></code><a class="headerlink" href="#positivesmallintegerfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.PositiveSmallIntegerField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">PositiveSmallIntegerField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.PositiveSmallIntegerField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Like a <a class="reference internal" href="#django.db.models.PositiveIntegerField" title="django.db.models.PositiveIntegerField"><code class="xref py py-class docutils literal"><span class="pre">PositiveIntegerField</span></code></a>, but only allows values under a certain
(database-dependent) point. Values from <code class="docutils literal"><span class="pre">0</span></code> to <code class="docutils literal"><span class="pre">32767</span></code> are safe in all
databases supported by Django.</p>
</div>
<div class="section" id="slugfield">
<h3><code class="docutils literal"><span class="pre">SlugField</span></code><a class="headerlink" href="#slugfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.SlugField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">SlugField</code><span class="sig-paren">(</span><span class="optional">[</span><em>max_length=50</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.SlugField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Slug is a newspaper term. A slug is a short label for something,
containing only letters, numbers, underscores or hyphens. They&#8217;re generally used
in URLs.</p>
<p>Like a CharField, you can specify <a class="reference internal" href="#CharField.max_length" title="CharField.max_length"><code class="xref py py-attr docutils literal"><span class="pre">max_length</span></code></a> (read the note
about database portability and <a class="reference internal" href="#CharField.max_length" title="CharField.max_length"><code class="xref py py-attr docutils literal"><span class="pre">max_length</span></code></a> in that section,
too). If <a class="reference internal" href="#CharField.max_length" title="CharField.max_length"><code class="xref py py-attr docutils literal"><span class="pre">max_length</span></code></a> is not specified, Django will use a
default length of 50.</p>
<p>Implies setting <a class="reference internal" href="#django.db.models.Field.db_index" title="django.db.models.Field.db_index"><code class="xref py py-attr docutils literal"><span class="pre">Field.db_index</span></code></a> to <code class="docutils literal"><span class="pre">True</span></code>.</p>
<p>It is often useful to automatically prepopulate a SlugField based on the value
of some other value.  You can do this automatically in the admin using
<code class="xref py py-attr docutils literal"><span class="pre">prepopulated_fields</span></code>.</p>
</div>
<div class="section" id="smallintegerfield">
<h3><code class="docutils literal"><span class="pre">SmallIntegerField</span></code><a class="headerlink" href="#smallintegerfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.SmallIntegerField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">SmallIntegerField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.SmallIntegerField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Like an <a class="reference internal" href="#django.db.models.IntegerField" title="django.db.models.IntegerField"><code class="xref py py-class docutils literal"><span class="pre">IntegerField</span></code></a>, but only allows values under a certain
(database-dependent) point. Values from <code class="docutils literal"><span class="pre">-32768</span></code> to <code class="docutils literal"><span class="pre">32767</span></code> are safe in all
databases supported by Django.</p>
</div>
<div class="section" id="textfield">
<h3><code class="docutils literal"><span class="pre">TextField</span></code><a class="headerlink" href="#textfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.TextField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">TextField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.TextField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A large text field. The default form widget for this field is a
<code class="xref py py-class docutils literal"><span class="pre">Textarea</span></code>.</p>
<p>If you specify a <code class="docutils literal"><span class="pre">max_length</span></code> attribute, it will be reflected in the
<code class="xref py py-class docutils literal"><span class="pre">Textarea</span></code> widget of the auto-generated form field.
However it is not enforced at the model or database level. Use a
<a class="reference internal" href="#CharField" title="CharField"><code class="xref py py-class docutils literal"><span class="pre">CharField</span></code></a> for that.</p>
<div class="admonition-mysql-users admonition">
<p class="first admonition-title">MySQL users</p>
<p class="last">If you are using this field with MySQLdb 1.2.1p2 and the <code class="docutils literal"><span class="pre">utf8_bin</span></code>
collation (which is <em>not</em> the default), there are some issues to be aware
of. Refer to Chapter 23 for
details.</p>
</div>
</div>
<div class="section" id="timefield">
<h3><code class="docutils literal"><span class="pre">TimeField</span></code><a class="headerlink" href="#timefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.TimeField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">TimeField</code><span class="sig-paren">(</span><span class="optional">[</span><em>auto_now=False</em>, <em>auto_now_add=False</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.TimeField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A time, represented in Python by a <code class="docutils literal"><span class="pre">datetime.time</span></code> instance. Accepts the same
auto-population options as <a class="reference internal" href="#DateField" title="DateField"><code class="xref py py-class docutils literal"><span class="pre">DateField</span></code></a>.</p>
<p>The default form widget for this field is a <code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>.
The admin adds some JavaScript shortcuts.</p>
</div>
<div class="section" id="urlfield">
<h3><code class="docutils literal"><span class="pre">URLField</span></code><a class="headerlink" href="#urlfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.URLField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">URLField</code><span class="sig-paren">(</span><span class="optional">[</span><em>max_length=200</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.URLField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A <a class="reference internal" href="#CharField" title="CharField"><code class="xref py py-class docutils literal"><span class="pre">CharField</span></code></a> for a URL.</p>
<p>The default form widget for this field is a <code class="xref py py-class docutils literal"><span class="pre">TextInput</span></code>.</p>
<p>Like all <a class="reference internal" href="#CharField" title="CharField"><code class="xref py py-class docutils literal"><span class="pre">CharField</span></code></a> subclasses, <a class="reference internal" href="#django.db.models.URLField" title="django.db.models.URLField"><code class="xref py py-class docutils literal"><span class="pre">URLField</span></code></a> takes the optional
<a class="reference internal" href="#CharField.max_length" title="CharField.max_length"><code class="xref py py-attr docutils literal"><span class="pre">max_length</span></code></a> argument. If you don&#8217;t specify
<a class="reference internal" href="#CharField.max_length" title="CharField.max_length"><code class="xref py py-attr docutils literal"><span class="pre">max_length</span></code></a>, a default of 200 is used.</p>
</div>
<div class="section" id="uuidfield">
<h3><code class="docutils literal"><span class="pre">UUIDField</span></code><a class="headerlink" href="#uuidfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.UUIDField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">UUIDField</code><span class="sig-paren">(</span><span class="optional">[</span><em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.UUIDField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A field for storing universally unique identifiers. Uses Python&#8217;s
<code class="xref py py-class docutils literal"><span class="pre">UUID</span></code> class. When used on PostgreSQL, this stores in a
<code class="docutils literal"><span class="pre">uuid</span></code> datatype, otherwise in a <code class="docutils literal"><span class="pre">char(32)</span></code>.</p>
<p>Universally unique identifiers are a good alternative to <a class="reference internal" href="#AutoField" title="AutoField"><code class="xref py py-class docutils literal"><span class="pre">AutoField</span></code></a> for
<a class="reference internal" href="#django.db.models.Field.primary_key" title="django.db.models.Field.primary_key"><code class="xref py py-attr docutils literal"><span class="pre">primary_key</span></code></a>. The database will not generate the UUID for you, so
it is recommended to use <a class="reference internal" href="#django.db.models.Field.default" title="django.db.models.Field.default"><code class="xref py py-attr docutils literal"><span class="pre">default</span></code></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">uuid</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">MyUUIDModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UUIDField</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">,</span> <span class="n">editable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="c"># other fields</span>
</pre></div>
</div>
<p>Note that a callable (with the parentheses omitted) is passed to <code class="docutils literal"><span class="pre">default</span></code>,
not an instance of <code class="docutils literal"><span class="pre">UUID</span></code>.</p>
</div>
</div>
<div class="section" id="universal-field-options">
<h2>Universal Field Options<a class="headerlink" href="#universal-field-options" title="Permalink to this headline">¶</a></h2>
<p>The following arguments are available to all field types. All are optional.</p>
<div class="section" id="null">
<h3><code class="docutils literal"><span class="pre">null</span></code><a class="headerlink" href="#null" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.null">
<code class="descclassname">Field.</code><code class="descname">null</code><a class="headerlink" href="#django.db.models.Field.null" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>If <code class="docutils literal"><span class="pre">True</span></code>, Django will store empty values as <code class="docutils literal"><span class="pre">NULL</span></code> in the database. Default
is <code class="docutils literal"><span class="pre">False</span></code>.</p>
<p>Avoid using <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal"><span class="pre">null</span></code></a> on string-based fields such as
<a class="reference internal" href="#CharField" title="CharField"><code class="xref py py-class docutils literal"><span class="pre">CharField</span></code></a> and <a class="reference internal" href="#django.db.models.TextField" title="django.db.models.TextField"><code class="xref py py-class docutils literal"><span class="pre">TextField</span></code></a> because empty string values will
always be stored as empty strings, not as <code class="docutils literal"><span class="pre">NULL</span></code>. If a string-based field has
<code class="docutils literal"><span class="pre">null=True</span></code>, that means it has two possible values for &#8220;no data&#8221;: <code class="docutils literal"><span class="pre">NULL</span></code>,
and the empty string. In most cases, it&#8217;s redundant to have two possible values
for &#8220;no data;&#8221; the Django convention is to use the empty string, not <code class="docutils literal"><span class="pre">NULL</span></code>.</p>
<p>For both string-based and non-string-based fields, you will also need to
set <code class="docutils literal"><span class="pre">blank=True</span></code> if you wish to permit empty values in forms, as the
<a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal"><span class="pre">null</span></code></a> parameter only affects database storage
(see <a class="reference internal" href="#django.db.models.Field.blank" title="django.db.models.Field.blank"><code class="xref py py-attr docutils literal"><span class="pre">blank</span></code></a>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the Oracle database backend, the value <code class="docutils literal"><span class="pre">NULL</span></code> will be stored to
denote the empty string regardless of this attribute.</p>
</div>
<p>If you want to accept <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal"><span class="pre">null</span></code></a> values with <a class="reference internal" href="#BooleanField" title="BooleanField"><code class="xref py py-class docutils literal"><span class="pre">BooleanField</span></code></a>,
use <a class="reference internal" href="#django.db.models.NullBooleanField" title="django.db.models.NullBooleanField"><code class="xref py py-class docutils literal"><span class="pre">NullBooleanField</span></code></a> instead.</p>
</div>
<div class="section" id="blank">
<h3><code class="docutils literal"><span class="pre">blank</span></code><a class="headerlink" href="#blank" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.blank">
<code class="descclassname">Field.</code><code class="descname">blank</code><a class="headerlink" href="#django.db.models.Field.blank" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>If <code class="docutils literal"><span class="pre">True</span></code>, the field is allowed to be blank. Default is <code class="docutils literal"><span class="pre">False</span></code>.</p>
<p>Note that this is different than <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal"><span class="pre">null</span></code></a>. <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal"><span class="pre">null</span></code></a> is
purely database-related, whereas <a class="reference internal" href="#django.db.models.Field.blank" title="django.db.models.Field.blank"><code class="xref py py-attr docutils literal"><span class="pre">blank</span></code></a> is validation-related. If
a field has <code class="docutils literal"><span class="pre">blank=True</span></code>, form validation will allow entry of an empty value.
If a field has <code class="docutils literal"><span class="pre">blank=False</span></code>, the field will be required.</p>
</div>
<div class="section" id="choices">
<span id="field-choices"></span><h3><code class="docutils literal"><span class="pre">choices</span></code><a class="headerlink" href="#choices" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.choices">
<code class="descclassname">Field.</code><code class="descname">choices</code><a class="headerlink" href="#django.db.models.Field.choices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>An iterable (e.g., a list or tuple) consisting itself of iterables of exactly
two items (e.g. <code class="docutils literal"><span class="pre">[(A,</span> <span class="pre">B),</span> <span class="pre">(A,</span> <span class="pre">B)</span> <span class="pre">...]</span></code>) to use as choices for this field. If
this is given, the default form widget will be a select box with these choices
instead of the standard text field.</p>
<p>The first element in each tuple is the actual value to be set on the model,
and the second element is the human-readable name. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">YEAR_IN_SCHOOL_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="s">&#39;FR&#39;</span><span class="p">,</span> <span class="s">&#39;Freshman&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;SO&#39;</span><span class="p">,</span> <span class="s">&#39;Sophomore&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;JR&#39;</span><span class="p">,</span> <span class="s">&#39;Junior&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;SR&#39;</span><span class="p">,</span> <span class="s">&#39;Senior&#39;</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Generally, it&#8217;s best to define choices inside a model class, and to
define a suitably-named constant for each value:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Student</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">FRESHMAN</span> <span class="o">=</span> <span class="s">&#39;FR&#39;</span>
    <span class="n">SOPHOMORE</span> <span class="o">=</span> <span class="s">&#39;SO&#39;</span>
    <span class="n">JUNIOR</span> <span class="o">=</span> <span class="s">&#39;JR&#39;</span>
    <span class="n">SENIOR</span> <span class="o">=</span> <span class="s">&#39;SR&#39;</span>
    <span class="n">YEAR_IN_SCHOOL_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="n">FRESHMAN</span><span class="p">,</span> <span class="s">&#39;Freshman&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">SOPHOMORE</span><span class="p">,</span> <span class="s">&#39;Sophomore&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">JUNIOR</span><span class="p">,</span> <span class="s">&#39;Junior&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">SENIOR</span><span class="p">,</span> <span class="s">&#39;Senior&#39;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">year_in_school</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                      <span class="n">choices</span><span class="o">=</span><span class="n">YEAR_IN_SCHOOL_CHOICES</span><span class="p">,</span>
                                      <span class="n">default</span><span class="o">=</span><span class="n">FRESHMAN</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_upperclass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">year_in_school</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">JUNIOR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">SENIOR</span><span class="p">)</span>
</pre></div>
</div>
<p>Though you can define a choices list outside of a model class and then
refer to it, defining the choices and names for each choice inside the
model class keeps all of that information with the class that uses it,
and makes the choices easy to reference (e.g, <code class="docutils literal"><span class="pre">Student.SOPHOMORE</span></code>
will work anywhere that the <code class="docutils literal"><span class="pre">Student</span></code> model has been imported).</p>
<p>You can also collect your available choices into named groups that can
be used for organizational purposes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">MEDIA_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="s">&#39;Audio&#39;</span><span class="p">,</span> <span class="p">(</span>
            <span class="p">(</span><span class="s">&#39;vinyl&#39;</span><span class="p">,</span> <span class="s">&#39;Vinyl&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;cd&#39;</span><span class="p">,</span> <span class="s">&#39;CD&#39;</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Video&#39;</span><span class="p">,</span> <span class="p">(</span>
            <span class="p">(</span><span class="s">&#39;vhs&#39;</span><span class="p">,</span> <span class="s">&#39;VHS Tape&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;dvd&#39;</span><span class="p">,</span> <span class="s">&#39;DVD&#39;</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;unknown&#39;</span><span class="p">,</span> <span class="s">&#39;Unknown&#39;</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The first element in each tuple is the name to apply to the group. The
second element is an iterable of 2-tuples, with each 2-tuple containing
a value and a human-readable name for an option. Grouped options may be
combined with ungrouped options within a single list (such as the
<cite>unknown</cite> option in this example).</p>
<p>For each model field that has <a class="reference internal" href="#django.db.models.Field.choices" title="django.db.models.Field.choices"><code class="xref py py-attr docutils literal"><span class="pre">choices</span></code></a> set, Django will add a
method to retrieve the human-readable name for the field&#8217;s current value. See
<code class="xref py py-meth docutils literal"><span class="pre">get_FOO_display()</span></code> in the database API
documentation.</p>
<p>Note that choices can be any iterable object &#8211; not necessarily a list or tuple.
This lets you construct choices dynamically. But if you find yourself hacking
<a class="reference internal" href="#django.db.models.Field.choices" title="django.db.models.Field.choices"><code class="xref py py-attr docutils literal"><span class="pre">choices</span></code></a> to be dynamic, you&#8217;re probably better off using a proper
database table with a <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a>. <a class="reference internal" href="#django.db.models.Field.choices" title="django.db.models.Field.choices"><code class="xref py py-attr docutils literal"><span class="pre">choices</span></code></a> is meant for
static data that doesn&#8217;t change much, if ever.</p>
<p>Unless <a class="reference internal" href="#django.db.models.Field.blank" title="django.db.models.Field.blank"><code class="xref py py-attr docutils literal"><span class="pre">blank=False</span></code></a> is set on the field along with a
<a class="reference internal" href="#django.db.models.Field.default" title="django.db.models.Field.default"><code class="xref py py-attr docutils literal"><span class="pre">default</span></code></a> then a label containing <code class="docutils literal"><span class="pre">&quot;---------&quot;</span></code> will be rendered
with the select box. To override this behavior, add a tuple to <code class="docutils literal"><span class="pre">choices</span></code>
containing <code class="docutils literal"><span class="pre">None</span></code>; e.g. <code class="docutils literal"><span class="pre">(None,</span> <span class="pre">'Your</span> <span class="pre">String</span> <span class="pre">For</span> <span class="pre">Display')</span></code>.
Alternatively, you can use an empty string instead of <code class="docutils literal"><span class="pre">None</span></code> where this makes
sense - such as on a <code class="xref py py-class docutils literal"><span class="pre">CharField</span></code>.</p>
</div>
<div class="section" id="db-column">
<h3><code class="docutils literal"><span class="pre">db_column</span></code><a class="headerlink" href="#db-column" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.db_column">
<code class="descclassname">Field.</code><code class="descname">db_column</code><a class="headerlink" href="#django.db.models.Field.db_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The name of the database column to use for this field. If this isn&#8217;t given,
Django will use the field&#8217;s name.</p>
<p>If your database column name is an SQL reserved word, or contains
characters that aren&#8217;t allowed in Python variable names &#8211; notably, the
hyphen &#8211; that&#8217;s OK. Django quotes column and table names behind the
scenes.</p>
</div>
<div class="section" id="db-index">
<h3><code class="docutils literal"><span class="pre">db_index</span></code><a class="headerlink" href="#db-index" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.db_index">
<code class="descclassname">Field.</code><code class="descname">db_index</code><a class="headerlink" href="#django.db.models.Field.db_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>If <code class="docutils literal"><span class="pre">True</span></code>, a database index will be created for this field.</p>
</div>
<div class="section" id="db-tablespace">
<h3><code class="docutils literal"><span class="pre">db_tablespace</span></code><a class="headerlink" href="#db-tablespace" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.db_tablespace">
<code class="descclassname">Field.</code><code class="descname">db_tablespace</code><a class="headerlink" href="#django.db.models.Field.db_tablespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The name of the database tablespace to use for
this field&#8217;s index, if this field is indexed. The default is the project&#8217;s
<code class="docutils literal"><span class="pre">DEFAULT_INDEX_TABLESPACE</span></code> setting, if set, or the
<a class="reference internal" href="#django.db.models.Options.db_tablespace" title="django.db.models.Options.db_tablespace"><code class="xref py py-attr docutils literal"><span class="pre">db_tablespace</span></code></a> of the model, if any. If the backend doesn&#8217;t
support tablespaces for indexes, this option is ignored.</p>
</div>
<div class="section" id="default">
<h3><code class="docutils literal"><span class="pre">default</span></code><a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.default">
<code class="descclassname">Field.</code><code class="descname">default</code><a class="headerlink" href="#django.db.models.Field.default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The default value for the field. This can be a value or a callable object. If
callable it will be called every time a new object is created.</p>
<p>The default cannot be a mutable object (model instance, list, set, etc.), as a
reference to the same instance of that object would be used as the default
value in all new model instances. Instead, wrap the desired default in a
callable.  For example, if you had a custom <code class="docutils literal"><span class="pre">JSONField</span></code> and wanted to specify
a dictionary as the default, use a function as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">contact_default</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s">&quot;email&quot;</span><span class="p">:</span> <span class="s">&quot;to1@example.com&quot;</span><span class="p">}</span>

<span class="n">contact_info</span> <span class="o">=</span> <span class="n">JSONField</span><span class="p">(</span><span class="s">&quot;ContactInfo&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">contact_default</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal"><span class="pre">lambda</span></code>s cannot be used for field options like <code class="docutils literal"><span class="pre">default</span></code>
because they cannot be serialized by migrations.
See the Django documentation for other caveats.</p>
<p>The default value is used when new model instances are created and a value
isn&#8217;t provided for the field. When the field is a primary key, the default is
also used when the field is set to <code class="docutils literal"><span class="pre">None</span></code>.</p>
</div>
<div class="section" id="editable">
<h3><code class="docutils literal"><span class="pre">editable</span></code><a class="headerlink" href="#editable" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.editable">
<code class="descclassname">Field.</code><code class="descname">editable</code><a class="headerlink" href="#django.db.models.Field.editable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>If <code class="docutils literal"><span class="pre">False</span></code>, the field will not be displayed in the admin or any other
<code class="xref py py-class docutils literal"><span class="pre">ModelForm</span></code>. They are also skipped during model
validation. Default is <code class="docutils literal"><span class="pre">True</span></code>.</p>
</div>
<div class="section" id="error-messages">
<h3><code class="docutils literal"><span class="pre">error_messages</span></code><a class="headerlink" href="#error-messages" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.error_messages">
<code class="descclassname">Field.</code><code class="descname">error_messages</code><a class="headerlink" href="#django.db.models.Field.error_messages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The <code class="docutils literal"><span class="pre">error_messages</span></code> argument lets you override the default messages that the
field will raise. Pass in a dictionary with keys matching the error messages you
want to override.</p>
<p>Error message keys include <code class="docutils literal"><span class="pre">null</span></code>, <code class="docutils literal"><span class="pre">blank</span></code>, <code class="docutils literal"><span class="pre">invalid</span></code>, <code class="docutils literal"><span class="pre">invalid_choice</span></code>,
<code class="docutils literal"><span class="pre">unique</span></code>, and <code class="docutils literal"><span class="pre">unique_for_date</span></code>. Additional error message keys are
specified for each field in the Field types section below.</p>
</div>
<div class="section" id="help-text">
<h3><code class="docutils literal"><span class="pre">help_text</span></code><a class="headerlink" href="#help-text" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.help_text">
<code class="descclassname">Field.</code><code class="descname">help_text</code><a class="headerlink" href="#django.db.models.Field.help_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Extra &#8220;help&#8221; text to be displayed with the form widget. It&#8217;s useful for
documentation even if your field isn&#8217;t used on a form.</p>
<p>Note that this value is <em>not</em> HTML-escaped in automatically-generated
forms. This lets you include HTML in <a class="reference internal" href="#django.db.models.Field.help_text" title="django.db.models.Field.help_text"><code class="xref py py-attr docutils literal"><span class="pre">help_text</span></code></a> if you so
desire. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">help_text</span><span class="o">=</span><span class="s">&quot;Please use the following format: &lt;em&gt;YYYY-MM-DD&lt;/em&gt;.&quot;</span>
</pre></div>
</div>
<p>Alternatively you can use plain text and
<code class="docutils literal"><span class="pre">django.utils.html.escape()</span></code> to escape any HTML special characters. Ensure
that you escape any help text that may come from untrusted users to avoid a
cross-site scripting attack.</p>
</div>
<div class="section" id="primary-key">
<h3><code class="docutils literal"><span class="pre">primary_key</span></code><a class="headerlink" href="#primary-key" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.primary_key">
<code class="descclassname">Field.</code><code class="descname">primary_key</code><a class="headerlink" href="#django.db.models.Field.primary_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>If <code class="docutils literal"><span class="pre">True</span></code>, this field is the primary key for the model.</p>
<p>If you don&#8217;t specify <code class="docutils literal"><span class="pre">primary_key=True</span></code> for any field in your model, Django
will automatically add an <a class="reference internal" href="#AutoField" title="AutoField"><code class="xref py py-class docutils literal"><span class="pre">AutoField</span></code></a> to hold the primary key, so you
don&#8217;t need to set <code class="docutils literal"><span class="pre">primary_key=True</span></code> on any of your fields unless you want to
override the default primary-key behavior.</p>
<p><code class="docutils literal"><span class="pre">primary_key=True</span></code> implies <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal"><span class="pre">null=False</span></code></a> and
<a class="reference internal" href="#django.db.models.Field.unique" title="django.db.models.Field.unique"><code class="xref py py-attr docutils literal"><span class="pre">unique=True</span></code></a>. Only one primary key is allowed on an
object.</p>
<p>The primary key field is read-only. If you change the value of the primary
key on an existing object and then save it, a new object will be created
alongside the old one.</p>
</div>
<div class="section" id="unique">
<h3><code class="docutils literal"><span class="pre">unique</span></code><a class="headerlink" href="#unique" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.unique">
<code class="descclassname">Field.</code><code class="descname">unique</code><a class="headerlink" href="#django.db.models.Field.unique" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>If <code class="docutils literal"><span class="pre">True</span></code>, this field must be unique throughout the table.</p>
<p>This is enforced at the database level and by model validation. If
you try to save a model with a duplicate value in a <a class="reference internal" href="#django.db.models.Field.unique" title="django.db.models.Field.unique"><code class="xref py py-attr docutils literal"><span class="pre">unique</span></code></a>
field, a <code class="xref py py-exc docutils literal"><span class="pre">django.db.IntegrityError</span></code> will be raised by the model&#8217;s
<code class="xref py py-meth docutils literal"><span class="pre">save()</span></code> method.</p>
<p>This option is valid on all field types except <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a>,
<a class="reference internal" href="#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code class="xref py py-class docutils literal"><span class="pre">OneToOneField</span></code></a>, and <a class="reference internal" href="#FileField" title="FileField"><code class="xref py py-class docutils literal"><span class="pre">FileField</span></code></a>.</p>
<p>Note that when <code class="docutils literal"><span class="pre">unique</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, you don&#8217;t need to specify
<a class="reference internal" href="#django.db.models.Field.db_index" title="django.db.models.Field.db_index"><code class="xref py py-attr docutils literal"><span class="pre">db_index</span></code></a>, because <code class="docutils literal"><span class="pre">unique</span></code> implies the creation of an index.</p>
</div>
<div class="section" id="unique-for-date">
<h3><code class="docutils literal"><span class="pre">unique_for_date</span></code><a class="headerlink" href="#unique-for-date" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.unique_for_date">
<code class="descclassname">Field.</code><code class="descname">unique_for_date</code><a class="headerlink" href="#django.db.models.Field.unique_for_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Set this to the name of a <a class="reference internal" href="#DateField" title="DateField"><code class="xref py py-class docutils literal"><span class="pre">DateField</span></code></a> or <a class="reference internal" href="#DateTimeField" title="DateTimeField"><code class="xref py py-class docutils literal"><span class="pre">DateTimeField</span></code></a> to
require that this field be unique for the value of the date field.</p>
<p>For example, if you have a field <code class="docutils literal"><span class="pre">title</span></code> that has
<code class="docutils literal"><span class="pre">unique_for_date=&quot;pub_date&quot;</span></code>, then Django wouldn&#8217;t allow the entry of two
records with the same <code class="docutils literal"><span class="pre">title</span></code> and <code class="docutils literal"><span class="pre">pub_date</span></code>.</p>
<p>Note that if you set this to point to a <a class="reference internal" href="#DateTimeField" title="DateTimeField"><code class="xref py py-class docutils literal"><span class="pre">DateTimeField</span></code></a>, only the date
portion of the field will be considered. Besides, when <code class="docutils literal"><span class="pre">USE_TZ</span></code> is <code class="docutils literal"><span class="pre">True</span></code>,
the check will be performed in the current time zone at the time the object
gets saved.</p>
<p>This is enforced by <code class="xref py py-meth docutils literal"><span class="pre">Model.validate_unique()</span></code> during model validation
but not at the database level. If any <a class="reference internal" href="#django.db.models.Field.unique_for_date" title="django.db.models.Field.unique_for_date"><code class="xref py py-attr docutils literal"><span class="pre">unique_for_date</span></code></a>
constraint involves fields that are not part of a
<code class="xref py py-class docutils literal"><span class="pre">ModelForm</span></code> (for example, if one of the fields is listed
in <code class="docutils literal"><span class="pre">exclude</span></code> or has <a class="reference internal" href="#django.db.models.Field.editable" title="django.db.models.Field.editable"><code class="xref py py-attr docutils literal"><span class="pre">editable=False</span></code></a>),
<code class="xref py py-meth docutils literal"><span class="pre">Model.validate_unique()</span></code> will skip validation for that particular
constraint.</p>
</div>
<div class="section" id="unique-for-month">
<h3><code class="docutils literal"><span class="pre">unique_for_month</span></code><a class="headerlink" href="#unique-for-month" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.unique_for_month">
<code class="descclassname">Field.</code><code class="descname">unique_for_month</code><a class="headerlink" href="#django.db.models.Field.unique_for_month" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Like <a class="reference internal" href="#django.db.models.Field.unique_for_date" title="django.db.models.Field.unique_for_date"><code class="xref py py-attr docutils literal"><span class="pre">unique_for_date</span></code></a>, but requires the field to be unique with
respect to the month.</p>
</div>
<div class="section" id="unique-for-year">
<h3><code class="docutils literal"><span class="pre">unique_for_year</span></code><a class="headerlink" href="#unique-for-year" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.unique_for_year">
<code class="descclassname">Field.</code><code class="descname">unique_for_year</code><a class="headerlink" href="#django.db.models.Field.unique_for_year" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Like <a class="reference internal" href="#django.db.models.Field.unique_for_date" title="django.db.models.Field.unique_for_date"><code class="xref py py-attr docutils literal"><span class="pre">unique_for_date</span></code></a> and <a class="reference internal" href="#django.db.models.Field.unique_for_month" title="django.db.models.Field.unique_for_month"><code class="xref py py-attr docutils literal"><span class="pre">unique_for_month</span></code></a>.</p>
</div>
<div class="section" id="verbose-name">
<h3><code class="docutils literal"><span class="pre">verbose_name</span></code><a class="headerlink" href="#verbose-name" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.verbose_name">
<code class="descclassname">Field.</code><code class="descname">verbose_name</code><a class="headerlink" href="#django.db.models.Field.verbose_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A human-readable name for the field. If the verbose name isn&#8217;t given, Django
will automatically create it using the field&#8217;s attribute name, converting
underscores to spaces. See Verbose field names.</p>
</div>
<div class="section" id="validators">
<h3><code class="docutils literal"><span class="pre">validators</span></code><a class="headerlink" href="#validators" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.validators">
<code class="descclassname">Field.</code><code class="descname">validators</code><a class="headerlink" href="#django.db.models.Field.validators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A list of validators to run for this field.</p>
</div>
</div>
<div class="section" id="field-attribute-reference">
<h2>Field attribute reference<a class="headerlink" href="#field-attribute-reference" title="Permalink to this headline">¶</a></h2>
<p>Every <code class="docutils literal"><span class="pre">Field</span></code> instance contains several attributes that allow introspecting
its behavior. Use these attributes instead of <code class="docutils literal"><span class="pre">isinstance</span></code> checks when you
need to write code that depends on a field&#8217;s functionality.  These attributes
can be used together with the Model._meta API to narrow down a search for
specific field types.  Custom model fields should implement these flags.</p>
</div>
<div class="section" id="attributes-for-fields">
<h2>Attributes for fields<a class="headerlink" href="#attributes-for-fields" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="django.db.models.Field.auto_created">
<code class="descclassname">Field.</code><code class="descname">auto_created</code><a class="headerlink" href="#django.db.models.Field.auto_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean flag that indicates if the field was automatically created, such
as the <code class="docutils literal"><span class="pre">OneToOneField</span></code> used by model inheritance.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.concrete">
<code class="descclassname">Field.</code><code class="descname">concrete</code><a class="headerlink" href="#django.db.models.Field.concrete" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean flag that indicates if the field has a database column associated
with it.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.hidden">
<code class="descclassname">Field.</code><code class="descname">hidden</code><a class="headerlink" href="#django.db.models.Field.hidden" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean flag that indicates if a field is used to back another non-hidden
field&#8217;s functionality (e.g. the <code class="docutils literal"><span class="pre">content_type</span></code> and <code class="docutils literal"><span class="pre">object_id</span></code> fields
that make up a <code class="docutils literal"><span class="pre">GenericForeignKey</span></code>). The <code class="docutils literal"><span class="pre">hidden</span></code> flag is used to
distinguish what constitutes the public subset of fields on the model from
all the fields on the model.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">Options.get_fields()</span></code>
excludes hidden fields by default. Pass in <code class="docutils literal"><span class="pre">include_hidden=True</span></code> to
return hidden fields in the results.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.is_relation">
<code class="descclassname">Field.</code><code class="descname">is_relation</code><a class="headerlink" href="#django.db.models.Field.is_relation" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean flag that indicates if a field contains references to one or
more other models for its functionality (e.g. <code class="docutils literal"><span class="pre">ForeignKey</span></code>,
<code class="docutils literal"><span class="pre">ManyToManyField</span></code>, <code class="docutils literal"><span class="pre">OneToOneField</span></code>, etc.).</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.model">
<code class="descclassname">Field.</code><code class="descname">model</code><a class="headerlink" href="#django.db.models.Field.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the model on which the field is defined. If a field is defined on
a superclass of a model, <code class="docutils literal"><span class="pre">model</span></code> will refer to the superclass, not the
class of the instance.</p>
</dd></dl>

</div>
<div class="section" id="attributes-for-fields-with-relations">
<span id="model-field-attributes"></span><h2>Attributes for fields with relations<a class="headerlink" href="#attributes-for-fields-with-relations" title="Permalink to this headline">¶</a></h2>
<p>These attributes are used to query for the cardinality and other details of a
relation. These attribute are present on all fields; however, they will only
have meaningful values if the field is a relation type
(<a class="reference internal" href="#django.db.models.Field.is_relation" title="django.db.models.Field.is_relation"><code class="xref py py-attr docutils literal"><span class="pre">Field.is_relation=True</span></code></a>).</p>
<dl class="attribute">
<dt id="django.db.models.Field.many_to_many">
<code class="descclassname">Field.</code><code class="descname">many_to_many</code><a class="headerlink" href="#django.db.models.Field.many_to_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean flag that is <code class="docutils literal"><span class="pre">True</span></code> if the field has a many-to-many relation;
<code class="docutils literal"><span class="pre">False</span></code> otherwise. The only field included with Django where this is
<code class="docutils literal"><span class="pre">True</span></code> is <code class="docutils literal"><span class="pre">ManyToManyField</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.many_to_one">
<code class="descclassname">Field.</code><code class="descname">many_to_one</code><a class="headerlink" href="#django.db.models.Field.many_to_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean flag that is <code class="docutils literal"><span class="pre">True</span></code> if the field has a many-to-one relation, such
as a <code class="docutils literal"><span class="pre">ForeignKey</span></code>; <code class="docutils literal"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.one_to_many">
<code class="descclassname">Field.</code><code class="descname">one_to_many</code><a class="headerlink" href="#django.db.models.Field.one_to_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean flag that is <code class="docutils literal"><span class="pre">True</span></code> if the field has a one-to-many relation, such
as a <code class="docutils literal"><span class="pre">GenericRelation</span></code> or the reverse of a <code class="docutils literal"><span class="pre">ForeignKey</span></code>; <code class="docutils literal"><span class="pre">False</span></code>
otherwise.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.one_to_one">
<code class="descclassname">Field.</code><code class="descname">one_to_one</code><a class="headerlink" href="#django.db.models.Field.one_to_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean flag that is <code class="docutils literal"><span class="pre">True</span></code> if the field has a one-to-one relation, such
as a <code class="docutils literal"><span class="pre">OneToOneField</span></code>; <code class="docutils literal"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.related_model">
<code class="descclassname">Field.</code><code class="descname">related_model</code><a class="headerlink" href="#django.db.models.Field.related_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Points to the model the field relates to. For example, <code class="docutils literal"><span class="pre">Author</span></code> in
<code class="docutils literal"><span class="pre">ForeignKey(Author)</span></code>. If a field has a generic relation (such as a
<code class="docutils literal"><span class="pre">GenericForeignKey</span></code> or a <code class="docutils literal"><span class="pre">GenericRelation</span></code>) then <code class="docutils literal"><span class="pre">related_model</span></code>
will be <code class="docutils literal"><span class="pre">None</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="relationships">
<h2>Relationships<a class="headerlink" href="#relationships" title="Permalink to this headline">¶</a></h2>
<div class="section" id="foreignkey">
<span id="ref-foreignkey"></span><h3><code class="docutils literal"><span class="pre">ForeignKey</span></code><a class="headerlink" href="#foreignkey" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.ForeignKey">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">ForeignKey</code><span class="sig-paren">(</span><em>othermodel</em><span class="optional">[</span>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.ForeignKey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A many-to-one relationship. Requires a positional argument: the class to which
the model is related.</p>
<p id="recursive-relationships">To create a recursive relationship &#8211; an object that has a many-to-one
relationship with itself &#8211; use <code class="docutils literal"><span class="pre">models.ForeignKey('self')</span></code>.</p>
<p id="lazy-relationships">If you need to create a relationship on a model that has not yet been defined,
you can use the name of the model, rather than the model object itself:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">manufacturer</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;Manufacturer&#39;</span><span class="p">)</span>
    <span class="c"># ...</span>

<span class="k">class</span> <span class="nc">Manufacturer</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c"># ...</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>To refer to models defined in another application, you can explicitly specify
a model with the full application label. For example, if the <code class="docutils literal"><span class="pre">Manufacturer</span></code>
model above is defined in another application called <code class="docutils literal"><span class="pre">production</span></code>, you&#8217;d
need to use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">manufacturer</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;production.Manufacturer&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This sort of reference can be useful when resolving circular import
dependencies between two applications.</p>
<p>A database index is automatically created on the <code class="docutils literal"><span class="pre">ForeignKey</span></code>. You can
disable this by setting <a class="reference internal" href="#django.db.models.Field.db_index" title="django.db.models.Field.db_index"><code class="xref py py-attr docutils literal"><span class="pre">db_index</span></code></a> to <code class="docutils literal"><span class="pre">False</span></code>.  You may want to
avoid the overhead of an index if you are creating a foreign key for
consistency rather than joins, or if you will be creating an alternative index
like a partial or multiple column index.</p>
<div class="section" id="database-representation">
<h4>Database Representation<a class="headerlink" href="#database-representation" title="Permalink to this headline">¶</a></h4>
<p>Behind the scenes, Django appends <code class="docutils literal"><span class="pre">&quot;_id&quot;</span></code> to the field name to create its
database column name. In the above example, the database table for the <code class="docutils literal"><span class="pre">Car</span></code>
model will have a <code class="docutils literal"><span class="pre">manufacturer_id</span></code> column. (You can change this explicitly by
specifying <a class="reference internal" href="#django.db.models.Field.db_column" title="django.db.models.Field.db_column"><code class="xref py py-attr docutils literal"><span class="pre">db_column</span></code></a>) However, your code should never have to
deal with the database column name, unless you write custom SQL. You&#8217;ll always
deal with the field names of your model object.</p>
</div>
<div class="section" id="arguments">
<span id="foreign-key-arguments"></span><h4>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> accepts an extra set of arguments &#8211; all optional &#8211; that
define the details of how the relation works.</p>
<dl class="attribute">
<dt id="django.db.models.ForeignKey.limit_choices_to">
<code class="descclassname">ForeignKey.</code><code class="descname">limit_choices_to</code><a class="headerlink" href="#django.db.models.ForeignKey.limit_choices_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a limit to the available choices for this field when this field is
rendered using a <code class="docutils literal"><span class="pre">ModelForm</span></code> or the admin (by default, all objects
in the queryset are available to choose). Either a dictionary, a
<code class="xref py py-class docutils literal"><span class="pre">Q</span></code> object, or a callable returning a
dictionary or <code class="xref py py-class docutils literal"><span class="pre">Q</span></code> object can be used.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">staff_member</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">limit_choices_to</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;is_staff&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">})</span>
</pre></div>
</div>
<p>causes the corresponding field on the <code class="docutils literal"><span class="pre">ModelForm</span></code> to list only <code class="docutils literal"><span class="pre">Users</span></code>
that have <code class="docutils literal"><span class="pre">is_staff=True</span></code>. This may be helpful in the Django admin.</p>
<p>The callable form can be helpful, for instance, when used in conjunction
with the Python <code class="docutils literal"><span class="pre">datetime</span></code> module to limit selections by date range. For
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">limit_pub_date_choices</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s">&#39;pub_date__lte&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()}</span>

<span class="n">limit_choices_to</span> <span class="o">=</span> <span class="n">limit_pub_date_choices</span>
</pre></div>
</div>
<p>If <code class="docutils literal"><span class="pre">limit_choices_to</span></code> is or returns a <code class="xref py py-class docutils literal"><span class="pre">Q</span> <span class="pre">object</span></code>, which is useful for complex queries
, then it will only have an effect on the choices
available in the admin when the field is not listed in
<code class="xref py py-attr docutils literal"><span class="pre">raw_id_fields</span></code> in the
<code class="docutils literal"><span class="pre">ModelAdmin</span></code> for the model.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a callable is used for <code class="docutils literal"><span class="pre">limit_choices_to</span></code>, it will be invoked
every time a new form is instantiated. It may also be invoked when a
model is validated, for example by management commands or the admin.
The admin constructs querysets to validate its form inputs in various
edge cases multiple times, so there is a possibility your callable may
be invoked several times.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.related_name">
<code class="descclassname">ForeignKey.</code><code class="descname">related_name</code><a class="headerlink" href="#django.db.models.ForeignKey.related_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name to use for the relation from the related object back to this one.
It&#8217;s also the default value for <a class="reference internal" href="#django.db.models.ForeignKey.related_query_name" title="django.db.models.ForeignKey.related_query_name"><code class="xref py py-attr docutils literal"><span class="pre">related_query_name</span></code></a> (the name to use
for the reverse filter name from the target model). See the related
objects documentation for a full explanation
and example. Note that you must set this value when defining relations on
abstract models; and when you do so
some special syntax is available.</p>
<p>If you&#8217;d prefer Django not to create a backwards relation, set
<code class="docutils literal"><span class="pre">related_name</span></code> to <code class="docutils literal"><span class="pre">'+'</span></code> or end it with <code class="docutils literal"><span class="pre">'+'</span></code>. For example, this will
ensure that the <code class="docutils literal"><span class="pre">User</span></code> model won&#8217;t have a backwards relation to this
model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;+&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.related_query_name">
<code class="descclassname">ForeignKey.</code><code class="descname">related_query_name</code><a class="headerlink" href="#django.db.models.ForeignKey.related_query_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name to use for the reverse filter name from the target model.
Defaults to the value of <a class="reference internal" href="#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code class="xref py py-attr docutils literal"><span class="pre">related_name</span></code></a> if it is set, otherwise it
defaults to the name of the model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Declare the ForeignKey with related_query_name</span>
<span class="k">class</span> <span class="nc">Tag</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">article</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Article</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;tags&quot;</span><span class="p">,</span> <span class="n">related_query_name</span><span class="o">=</span><span class="s">&quot;tag&quot;</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">)</span>

<span class="c"># That&#39;s now the name of the reverse filter</span>
<span class="n">Article</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">tag__name</span><span class="o">=</span><span class="s">&quot;important&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.to_field">
<code class="descclassname">ForeignKey.</code><code class="descname">to_field</code><a class="headerlink" href="#django.db.models.ForeignKey.to_field" title="Permalink to this definition">¶</a></dt>
<dd><p>The field on the related object that the relation is to. By default, Django
uses the primary key of the related object.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.db_constraint">
<code class="descclassname">ForeignKey.</code><code class="descname">db_constraint</code><a class="headerlink" href="#django.db.models.ForeignKey.db_constraint" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls whether or not a constraint should be created in the database for
this foreign key. The default is <code class="docutils literal"><span class="pre">True</span></code>, and that&#8217;s almost certainly what
you want; setting this to <code class="docutils literal"><span class="pre">False</span></code> can be very bad for data integrity.
That said, here are some scenarios where you might want to do this:</p>
<ul class="simple">
<li>You have legacy data that is not valid.</li>
<li>You&#8217;re sharding your database.</li>
</ul>
<p>If this is set to <code class="docutils literal"><span class="pre">False</span></code>, accessing a related object that doesn&#8217;t exist
will raise its <code class="docutils literal"><span class="pre">DoesNotExist</span></code> exception.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.on_delete">
<code class="descclassname">ForeignKey.</code><code class="descname">on_delete</code><a class="headerlink" href="#django.db.models.ForeignKey.on_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>When an object referenced by a <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> is deleted, Django by
default emulates the behavior of the SQL constraint <code class="docutils literal"><span class="pre">ON</span> <span class="pre">DELETE</span> <span class="pre">CASCADE</span></code>
and also deletes the object containing the <code class="docutils literal"><span class="pre">ForeignKey</span></code>. This behavior
can be overridden by specifying the <a class="reference internal" href="#django.db.models.ForeignKey.on_delete" title="django.db.models.ForeignKey.on_delete"><code class="xref py py-attr docutils literal"><span class="pre">on_delete</span></code></a> argument. For
example, if you have a nullable <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> and you want it to be
set null when the referenced object is deleted:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<p>The possible values for <a class="reference internal" href="#django.db.models.ForeignKey.on_delete" title="django.db.models.ForeignKey.on_delete"><code class="xref py py-attr docutils literal"><span class="pre">on_delete</span></code></a> are found in
<code class="xref py py-mod docutils literal"><span class="pre">django.db.models</span></code>:</p>
<ul>
<li><dl class="attribute">
<dt id="django.db.models.CASCADE">
<code class="descclassname">django.db.models.</code><code class="descname">CASCADE</code><a class="headerlink" href="#django.db.models.CASCADE" title="Permalink to this definition">¶</a></dt>
<dd><p>Cascade deletes; the default.</p>
</dd></dl>

</li>
<li><dl class="attribute">
<dt id="django.db.models.PROTECT">
<code class="descclassname">django.db.models.</code><code class="descname">PROTECT</code><a class="headerlink" href="#django.db.models.PROTECT" title="Permalink to this definition">¶</a></dt>
<dd><p>Prevent deletion of the referenced object by raising
<code class="xref py py-exc docutils literal"><span class="pre">ProtectedError</span></code>, a subclass of
<code class="xref py py-exc docutils literal"><span class="pre">django.db.IntegrityError</span></code>.</p>
</dd></dl>

</li>
<li><dl class="attribute">
<dt id="django.db.models.SET_NULL">
<code class="descclassname">django.db.models.</code><code class="descname">SET_NULL</code><a class="headerlink" href="#django.db.models.SET_NULL" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> null; this is only possible if
<a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal"><span class="pre">null</span></code></a> is <code class="docutils literal"><span class="pre">True</span></code>.</p>
</dd></dl>

</li>
<li><dl class="attribute">
<dt id="django.db.models.SET_DEFAULT">
<code class="descclassname">django.db.models.</code><code class="descname">SET_DEFAULT</code><a class="headerlink" href="#django.db.models.SET_DEFAULT" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> to its default value; a default for the
<a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> must be set.</p>
</dd></dl>

</li>
<li><dl class="function">
<dt id="django.db.models.SET">
<code class="descclassname">django.db.models.</code><code class="descname">SET</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.SET" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> to the value passed to
<a class="reference internal" href="#django.db.models.SET" title="django.db.models.SET"><code class="xref py py-func docutils literal"><span class="pre">SET()</span></code></a>, or if a callable is passed in,
the result of calling it. In most cases, passing a callable will be
necessary to avoid executing queries at the time your models.py is
imported:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth</span> <span class="kn">import</span> <span class="n">get_user_model</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">def</span> <span class="nf">get_sentinel_user</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">get_user_model</span><span class="p">()</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&#39;deleted&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">AUTH_USER_MODEL</span><span class="p">,</span>
                             <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET</span><span class="p">(</span><span class="n">get_sentinel_user</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

</li>
<li><dl class="attribute">
<dt id="django.db.models.DO_NOTHING">
<code class="descclassname">django.db.models.</code><code class="descname">DO_NOTHING</code><a class="headerlink" href="#django.db.models.DO_NOTHING" title="Permalink to this definition">¶</a></dt>
<dd><p>Take no action. If your database backend enforces referential
integrity, this will cause an <code class="xref py py-exc docutils literal"><span class="pre">IntegrityError</span></code> unless
you manually add an SQL <code class="docutils literal"><span class="pre">ON</span> <span class="pre">DELETE</span></code> constraint to the database field.</p>
</dd></dl>

</li>
</ul>
<dl class="attribute">
<dt id="django.db.models.ForeignKey.swappable">
<code class="descclassname">ForeignKey.</code><code class="descname">swappable</code><a class="headerlink" href="#django.db.models.ForeignKey.swappable" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the migration framework&#8217;s reaction if this <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a>
is pointing at a swappable model. If it is <code class="docutils literal"><span class="pre">True</span></code> - the default -
then if the <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> is pointing at a model which matches
the current value of <code class="docutils literal"><span class="pre">settings.AUTH_USER_MODEL</span></code> (or another swappable
model setting) the relationship will be stored in the migration using
a reference to the setting, not to the model directly.</p>
<p>You only want to override this to be <code class="docutils literal"><span class="pre">False</span></code> if you are sure your
model should always point towards the swapped-in model - for example,
if it is a profile model designed specifically for your custom user model.</p>
<p>Setting it to <code class="docutils literal"><span class="pre">False</span></code> does not mean you can reference a swappable model
even if it is swapped out - <code class="docutils literal"><span class="pre">False</span></code> just means that the migrations made
with this ForeignKey will always reference the exact model you specify
(so it will fail hard if the user tries to run with a User model you don&#8217;t
support, for example).</p>
<p>If in doubt, leave it to its default of <code class="docutils literal"><span class="pre">True</span></code>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="manytomanyfield">
<span id="ref-manytomany"></span><h3><code class="docutils literal"><span class="pre">ManyToManyField</span></code><a class="headerlink" href="#manytomanyfield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.ManyToManyField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">ManyToManyField</code><span class="sig-paren">(</span><em>othermodel</em><span class="optional">[</span>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.ManyToManyField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A many-to-many relationship. Requires a positional argument: the class to
which the model is related, which works exactly the same as it does for
<a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a>, including recursive and
lazy relationships.</p>
<p>Related objects can be added, removed, or created with the field&#8217;s
<code class="xref py py-class docutils literal"><span class="pre">RelatedManager</span></code>.</p>
<div class="section" id="id1">
<h4>Database Representation<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Behind the scenes, Django creates an intermediary join table to represent the
many-to-many relationship. By default, this table name is generated using the
name of the many-to-many field and the name of the table for the model that
contains it. Since some databases don&#8217;t support table names above a certain
length, these table names will be automatically truncated to 64 characters and a
uniqueness hash will be used. This means you might see table names like
<code class="docutils literal"><span class="pre">author_books_9cdf4</span></code>; this is perfectly normal.  You can manually provide the
name of the join table using the <a class="reference internal" href="#django.db.models.ManyToManyField.db_table" title="django.db.models.ManyToManyField.db_table"><code class="xref py py-attr docutils literal"><span class="pre">db_table</span></code></a> option.</p>
</div>
<div class="section" id="manytomany-arguments">
<span id="id2"></span><h4>Arguments<a class="headerlink" href="#manytomany-arguments" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a> accepts an extra set of arguments &#8211; all optional &#8211;
that control how the relationship functions.</p>
<dl class="attribute">
<dt id="django.db.models.ManyToManyField.related_name">
<code class="descclassname">ManyToManyField.</code><code class="descname">related_name</code><a class="headerlink" href="#django.db.models.ManyToManyField.related_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code class="xref py py-attr docutils literal"><span class="pre">ForeignKey.related_name</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.related_query_name">
<code class="descclassname">ManyToManyField.</code><code class="descname">related_query_name</code><a class="headerlink" href="#django.db.models.ManyToManyField.related_query_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#django.db.models.ForeignKey.related_query_name" title="django.db.models.ForeignKey.related_query_name"><code class="xref py py-attr docutils literal"><span class="pre">ForeignKey.related_query_name</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.limit_choices_to">
<code class="descclassname">ManyToManyField.</code><code class="descname">limit_choices_to</code><a class="headerlink" href="#django.db.models.ManyToManyField.limit_choices_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#django.db.models.ForeignKey.limit_choices_to" title="django.db.models.ForeignKey.limit_choices_to"><code class="xref py py-attr docutils literal"><span class="pre">ForeignKey.limit_choices_to</span></code></a>.</p>
<p><code class="docutils literal"><span class="pre">limit_choices_to</span></code> has no effect when used on a <code class="docutils literal"><span class="pre">ManyToManyField</span></code> with a
custom intermediate table specified using the
<a class="reference internal" href="#django.db.models.ManyToManyField.through" title="django.db.models.ManyToManyField.through"><code class="xref py py-attr docutils literal"><span class="pre">through</span></code></a> parameter.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.symmetrical">
<code class="descclassname">ManyToManyField.</code><code class="descname">symmetrical</code><a class="headerlink" href="#django.db.models.ManyToManyField.symmetrical" title="Permalink to this definition">¶</a></dt>
<dd><p>Only used in the definition of ManyToManyFields on self. Consider the
following model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">friends</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&quot;self&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>When Django processes this model, it identifies that it has a
<a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a> on itself, and as a result, it doesn&#8217;t add a
<code class="docutils literal"><span class="pre">person_set</span></code> attribute to the <code class="docutils literal"><span class="pre">Person</span></code> class. Instead, the
<a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a> is assumed to be symmetrical &#8211; that is, if I am
your friend, then you are my friend.</p>
<p>If you do not want symmetry in many-to-many relationships with <code class="docutils literal"><span class="pre">self</span></code>, set
<a class="reference internal" href="#django.db.models.ManyToManyField.symmetrical" title="django.db.models.ManyToManyField.symmetrical"><code class="xref py py-attr docutils literal"><span class="pre">symmetrical</span></code></a> to <code class="docutils literal"><span class="pre">False</span></code>. This will force Django to
add the descriptor for the reverse relationship, allowing
<a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a> relationships to be non-symmetrical.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.through">
<code class="descclassname">ManyToManyField.</code><code class="descname">through</code><a class="headerlink" href="#django.db.models.ManyToManyField.through" title="Permalink to this definition">¶</a></dt>
<dd><p>Django will automatically generate a table to manage many-to-many
relationships. However, if you want to manually specify the intermediary
table, you can use the <a class="reference internal" href="#django.db.models.ManyToManyField.through" title="django.db.models.ManyToManyField.through"><code class="xref py py-attr docutils literal"><span class="pre">through</span></code></a> option to specify
the Django model that represents the intermediate table that you want to
use.</p>
<p>The most common use for this option is when you want to associate
extra data with a many-to-many relationship.</p>
<p>If you don&#8217;t specify an explicit <code class="docutils literal"><span class="pre">through</span></code> model, there is still an
implicit <code class="docutils literal"><span class="pre">through</span></code> model class you can use to directly access the table
created to hold the association. It has three fields:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">id</span></code>: the primary key of the relation.</li>
<li><code class="docutils literal"><span class="pre">&lt;containing_model&gt;_id</span></code>: the <code class="docutils literal"><span class="pre">id</span></code> of the model that declares the
<code class="docutils literal"><span class="pre">ManyToManyField</span></code>.</li>
<li><code class="docutils literal"><span class="pre">&lt;other_model&gt;_id</span></code>: the <code class="docutils literal"><span class="pre">id</span></code> of the model that the
<code class="docutils literal"><span class="pre">ManyToManyField</span></code> points to.</li>
</ul>
<p>This class can be used to query associated records for a given model
instance like a normal model.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.through_fields">
<code class="descclassname">ManyToManyField.</code><code class="descname">through_fields</code><a class="headerlink" href="#django.db.models.ManyToManyField.through_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Only used when a custom intermediary model is specified. Django will
normally determine which fields of the intermediary model to use in order
to establish a many-to-many relationship automatically. However,
consider the following models:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Group</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span>
    <span class="n">members</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&#39;Membership&#39;</span><span class="p">,</span> <span class="n">through_fields</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;group&#39;</span><span class="p">,</span> <span class="s">&#39;person&#39;</span><span class="p">))</span>

<span class="k">class</span> <span class="nc">Membership</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Group</span><span class="p">)</span>
    <span class="n">person</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Person</span><span class="p">)</span>
    <span class="n">inviter</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;membership_invites&quot;</span><span class="p">)</span>
    <span class="n">invite_reason</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Membership</span></code> has <em>two</em> foreign keys to <code class="docutils literal"><span class="pre">Person</span></code> (<code class="docutils literal"><span class="pre">person</span></code> and
<code class="docutils literal"><span class="pre">inviter</span></code>), which makes the relationship ambiguous and Django can&#8217;t know
which one to use. In this case, you must explicitly specify which
foreign keys Django should use using <code class="docutils literal"><span class="pre">through_fields</span></code>, as in the example
above.</p>
<p><code class="docutils literal"><span class="pre">through_fields</span></code> accepts a 2-tuple <code class="docutils literal"><span class="pre">('field1',</span> <span class="pre">'field2')</span></code>, where
<code class="docutils literal"><span class="pre">field1</span></code> is the name of the foreign key to the model the
<a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a> is defined on (<code class="docutils literal"><span class="pre">group</span></code> in this case), and
<code class="docutils literal"><span class="pre">field2</span></code> the name of the foreign key to the target model (<code class="docutils literal"><span class="pre">person</span></code>
in this case).</p>
<p>When you have more than one foreign key on an intermediary model to any
(or even both) of the models participating in a many-to-many relationship,
you <em>must</em> specify <code class="docutils literal"><span class="pre">through_fields</span></code>. This also applies to
recursive relationships
when an intermediary model is used and there are more than two
foreign keys to the model, or you want to explicitly specify which two
Django should use.</p>
<p>Recursive relationships using an intermediary model are always defined as
non-symmetrical &#8211; that is, with <a class="reference internal" href="#django.db.models.ManyToManyField.symmetrical" title="django.db.models.ManyToManyField.symmetrical"><code class="xref py py-attr docutils literal"><span class="pre">symmetrical=False</span></code></a>
&#8211; therefore, there is the concept of a &#8220;source&#8221; and a &#8220;target&#8221;. In that
case <code class="docutils literal"><span class="pre">'field1'</span></code> will be treated as the &#8220;source&#8221; of the relationship and
<code class="docutils literal"><span class="pre">'field2'</span></code> as the &#8220;target&#8221;.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.db_table">
<code class="descclassname">ManyToManyField.</code><code class="descname">db_table</code><a class="headerlink" href="#django.db.models.ManyToManyField.db_table" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the table to create for storing the many-to-many data. If this
is not provided, Django will assume a default name based upon the names of:
the table for the model defining the relationship and the name of the field
itself.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.db_constraint">
<code class="descclassname">ManyToManyField.</code><code class="descname">db_constraint</code><a class="headerlink" href="#django.db.models.ManyToManyField.db_constraint" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls whether or not constraints should be created in the database for
the foreign keys in the intermediary table. The default is <code class="docutils literal"><span class="pre">True</span></code>, and
that&#8217;s almost certainly what you want; setting this to <code class="docutils literal"><span class="pre">False</span></code> can be
very bad for data integrity. That said, here are some scenarios where you
might want to do this:</p>
<ul class="simple">
<li>You have legacy data that is not valid.</li>
<li>You&#8217;re sharding your database.</li>
</ul>
<p>It is an error to pass both <code class="docutils literal"><span class="pre">db_constraint</span></code> and <code class="docutils literal"><span class="pre">through</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.swappable">
<code class="descclassname">ManyToManyField.</code><code class="descname">swappable</code><a class="headerlink" href="#django.db.models.ManyToManyField.swappable" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the migration framework&#8217;s reaction if this <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a>
is pointing at a swappable model. If it is <code class="docutils literal"><span class="pre">True</span></code> - the default -
then if the <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a> is pointing at a model which matches
the current value of <code class="docutils literal"><span class="pre">settings.AUTH_USER_MODEL</span></code> (or another swappable
model setting) the relationship will be stored in the migration using
a reference to the setting, not to the model directly.</p>
<p>You only want to override this to be <code class="docutils literal"><span class="pre">False</span></code> if you are sure your
model should always point towards the swapped-in model - for example,
if it is a profile model designed specifically for your custom user model.</p>
<p>If in doubt, leave it to its default of <code class="docutils literal"><span class="pre">True</span></code>.</p>
</dd></dl>

<p><a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a> does not support <a class="reference internal" href="#django.db.models.Field.validators" title="django.db.models.Field.validators"><code class="xref py py-attr docutils literal"><span class="pre">validators</span></code></a>.</p>
<p><a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal"><span class="pre">null</span></code></a> has no effect since there is no way to require a
relationship at the database level.</p>
</div>
</div>
<div class="section" id="onetoonefield">
<span id="ref-onetoone"></span><h3><code class="docutils literal"><span class="pre">OneToOneField</span></code><a class="headerlink" href="#onetoonefield" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.db.models.OneToOneField">
<em class="property">class </em><code class="descclassname">django.db.models.</code><code class="descname">OneToOneField</code><span class="sig-paren">(</span><em>othermodel</em><span class="optional">[</span>, <em>parent_link=False</em>, <em>**options</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#django.db.models.OneToOneField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A one-to-one relationship. Conceptually, this is similar to a
<a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> with <a class="reference internal" href="#django.db.models.Field.unique" title="django.db.models.Field.unique"><code class="xref py py-attr docutils literal"><span class="pre">unique=True</span></code></a>, but the
&#8220;reverse&#8221; side of the relation will directly return a single object.</p>
<p>This is most useful as the primary key of a model which &#8220;extends&#8221;
another model in some way; multi table inheritance is
implemented by adding an implicit one-to-one relation from the child
model to the parent model, for example.</p>
<p>One positional argument is required: the class to which the model will be
related. This works exactly the same as it does for <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a>,
including all the options regarding recursive
and lazy relationships.</p>
<p>If you do not specify the <a class="reference internal" href="#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code class="xref py py-attr docutils literal"><span class="pre">related_name</span></code></a> argument for
the <code class="docutils literal"><span class="pre">OneToOneField</span></code>, Django will use the lower-case name of the current model
as default value.</p>
<p>With the following example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">MySpecialUser</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">AUTH_USER_MODEL</span><span class="p">)</span>
    <span class="n">supervisor</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">AUTH_USER_MODEL</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;supervisor_of&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>your resulting <code class="docutils literal"><span class="pre">User</span></code> model will have the following attributes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="s">&#39;myspecialuser&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="s">&#39;supervisor_of&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A <code class="docutils literal"><span class="pre">DoesNotExist</span></code> exception is raised when accessing the reverse relationship
if an entry in the related table doesn&#8217;t exist. For example, if a user doesn&#8217;t
have a supervisor designated by <code class="docutils literal"><span class="pre">MySpecialUser</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">supervisor_of</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">DoesNotExist</span>: <span class="n">User matching query does not exist.</span>
</pre></div>
</div>
<p id="onetoone-arguments">Additionally, <code class="docutils literal"><span class="pre">OneToOneField</span></code> accepts all of the extra arguments
accepted by <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a>, plus one extra argument:</p>
<dl class="attribute">
<dt id="django.db.models.OneToOneField.parent_link">
<code class="descclassname">OneToOneField.</code><code class="descname">parent_link</code><a class="headerlink" href="#django.db.models.OneToOneField.parent_link" title="Permalink to this definition">¶</a></dt>
<dd><p>When <code class="docutils literal"><span class="pre">True</span></code> and used in a model which inherits from another
concrete model, indicates that this field should be used as the
link back to the parent class, rather than the extra
<code class="docutils literal"><span class="pre">OneToOneField</span></code> which would normally be implicitly created by
subclassing.</p>
</dd></dl>

<p>See One-to-one relationships for usage
examples of <code class="docutils literal"><span class="pre">OneToOneField</span></code>.</p>
</div>
</div>
<div class="section" id="model-metadata-options">
<h2>Model Metadata Options<a class="headerlink" href="#model-metadata-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="abstract">
<h3><code class="docutils literal"><span class="pre">abstract</span></code><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.abstract">
<code class="descclassname">Options.</code><code class="descname">abstract</code><a class="headerlink" href="#django.db.models.Options.abstract" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal"><span class="pre">abstract</span> <span class="pre">=</span> <span class="pre">True</span></code>, this model will be an
abstract base class.</p>
</dd></dl>

</div>
<div class="section" id="app-label">
<h3><code class="docutils literal"><span class="pre">app_label</span></code><a class="headerlink" href="#app-label" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.app_label">
<code class="descclassname">Options.</code><code class="descname">app_label</code><a class="headerlink" href="#django.db.models.Options.app_label" title="Permalink to this definition">¶</a></dt>
<dd><p>If a model is defined outside of an application in
<code class="docutils literal"><span class="pre">INSTALLED_APPS</span></code>, it must declare which app it belongs to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">app_label</span> <span class="o">=</span> <span class="s">&#39;myapp&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="db-table">
<h3><code class="docutils literal"><span class="pre">db_table</span></code><a class="headerlink" href="#db-table" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.db_table">
<code class="descclassname">Options.</code><code class="descname">db_table</code><a class="headerlink" href="#django.db.models.Options.db_table" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the database table to use for the model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">db_table</span> <span class="o">=</span> <span class="s">&#39;music_album&#39;</span>
</pre></div>
</div>
</dd></dl>

<div class="section" id="table-names">
<span id="id3"></span><h4>Table names<a class="headerlink" href="#table-names" title="Permalink to this headline">¶</a></h4>
<p>To save you time, Django automatically derives the name of the database table
from the name of your model class and the app that contains it. A model&#8217;s
database table name is constructed by joining the model&#8217;s &#8220;app label&#8221; &#8211; the
name you used in <code class="docutils literal"><span class="pre">manage.py</span> <span class="pre">startapp</span></code> &#8211; to the model&#8217;s
class name, with an underscore between them.</p>
<p>For example, if you have an app <code class="docutils literal"><span class="pre">bookstore</span></code> (as created by
<code class="docutils literal"><span class="pre">manage.py</span> <span class="pre">startapp</span> <span class="pre">bookstore</span></code>), a model defined as <code class="docutils literal"><span class="pre">class</span> <span class="pre">Book</span></code> will have
a database table named <code class="docutils literal"><span class="pre">bookstore_book</span></code>.</p>
<p>To override the database table name, use the <code class="docutils literal"><span class="pre">db_table</span></code> parameter in
<code class="docutils literal"><span class="pre">class</span> <span class="pre">Meta</span></code>.</p>
<p>If your database table name is an SQL reserved word, or contains characters that
aren&#8217;t allowed in Python variable names &#8211; notably, the hyphen &#8211; that&#8217;s OK.
Django quotes column and table names behind the scenes.</p>
<div class="admonition-use-lowercase-table-names-for-mysql admonition">
<p class="first admonition-title">Use lowercase table names for MySQL</p>
<p class="last">It is strongly advised that you use lowercase table names when you override
the table name via <code class="docutils literal"><span class="pre">db_table</span></code>, particularly if you are using the MySQL
backend. See Chapter 23 for more details.</p>
</div>
<div class="admonition-table-name-quoting-for-oracle admonition">
<p class="first admonition-title">Table name quoting for Oracle</p>
<p>In order to meet the 30-char limitation Oracle has on table names,
and match the usual conventions for Oracle databases, Django may shorten
table names and turn them all-uppercase. To prevent such transformations,
use a quoted name as the value for <code class="docutils literal"><span class="pre">db_table</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">db_table</span> <span class="o">=</span> <span class="s">&#39;&quot;name_left_in_lowercase&quot;&#39;</span>
</pre></div>
</div>
<p class="last">Such quoted names can also be used with Django&#8217;s other supported database
backends; except for Oracle, however, the quotes have no effect. See Chapter
23 for more details.</p>
</div>
</div>
</div>
<div class="section" id="id4">
<h3><code class="docutils literal"><span class="pre">db_tablespace</span></code><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.db_tablespace">
<code class="descclassname">Options.</code><code class="descname">db_tablespace</code><a class="headerlink" href="#django.db.models.Options.db_tablespace" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the database tablespace to use
for this model. The default is the project&#8217;s <code class="docutils literal"><span class="pre">DEFAULT_TABLESPACE</span></code>
setting, if set. If the backend doesn&#8217;t support tablespaces, this option is
ignored.</p>
</dd></dl>

</div>
<div class="section" id="default-related-name">
<h3><code class="docutils literal"><span class="pre">default_related_name</span></code><a class="headerlink" href="#default-related-name" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.default_related_name">
<code class="descclassname">Options.</code><code class="descname">default_related_name</code><a class="headerlink" href="#django.db.models.Options.default_related_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name that will be used by default for the relation from a related object
back to this one. The default is <code class="docutils literal"><span class="pre">&lt;model_name&gt;_set</span></code>.</p>
<p>As the reverse name for a field should be unique, be careful if you intend
to subclass your model. To work around name collisions, part of the name
should contain <code class="docutils literal"><span class="pre">'%(app_label)s'</span></code> and <code class="docutils literal"><span class="pre">'%(model_name)s'</span></code>, which are
replaced respectively by the name of the application the model is in,
and the name of the model, both lowercased. See the paragraph on
related names for abstract models.</p>
</dd></dl>

</div>
<div class="section" id="get-latest-by">
<h3><code class="docutils literal"><span class="pre">get_latest_by</span></code><a class="headerlink" href="#get-latest-by" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.get_latest_by">
<code class="descclassname">Options.</code><code class="descname">get_latest_by</code><a class="headerlink" href="#django.db.models.Options.get_latest_by" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of an orderable field in the model, typically a <a class="reference internal" href="#DateField" title="DateField"><code class="xref py py-class docutils literal"><span class="pre">DateField</span></code></a>,
<a class="reference internal" href="#DateTimeField" title="DateTimeField"><code class="xref py py-class docutils literal"><span class="pre">DateTimeField</span></code></a>, or <a class="reference internal" href="#django.db.models.IntegerField" title="django.db.models.IntegerField"><code class="xref py py-class docutils literal"><span class="pre">IntegerField</span></code></a>. This specifies the default
field to use in your model <code class="xref py py-class docutils literal"><span class="pre">Manager</span></code>’s
<code class="xref py py-meth docutils literal"><span class="pre">latest()</span></code> and
<code class="xref py py-meth docutils literal"><span class="pre">earliest()</span></code> methods.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">get_latest_by</span> <span class="o">=</span> <span class="s">&quot;order_date&quot;</span>
</pre></div>
</div>
<p>See the <code class="xref py py-meth docutils literal"><span class="pre">latest()</span></code> docs for more.</p>
</dd></dl>

</div>
<div class="section" id="managed">
<h3><code class="docutils literal"><span class="pre">managed</span></code><a class="headerlink" href="#managed" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.managed">
<code class="descclassname">Options.</code><code class="descname">managed</code><a class="headerlink" href="#django.db.models.Options.managed" title="Permalink to this definition">¶</a></dt>
<dd><p>Defaults to <code class="docutils literal"><span class="pre">True</span></code>, meaning Django will create the appropriate database
tables in <code class="docutils literal"><span class="pre">migrate</span></code> or as part of migrations and remove them as
part of a <code class="docutils literal"><span class="pre">flush</span></code> management command. That is, Django
<em>manages</em> the database tables&#8217; lifecycles.</p>
<p>If <code class="docutils literal"><span class="pre">False</span></code>, no database table creation or deletion operations will be
performed for this model. This is useful if the model represents an existing
table or a database view that has been created by some other means. This is
the <em>only</em> difference when <code class="docutils literal"><span class="pre">managed=False</span></code>. All other aspects of
model handling are exactly the same as normal. This includes</p>
<ol class="arabic">
<li><p class="first">Adding an automatic primary key field to the model if you don&#8217;t
declare it.  To avoid confusion for later code readers, it&#8217;s
recommended to specify all the columns from the database table you
are modeling when using unmanaged models.</p>
</li>
<li><p class="first">If a model with <code class="docutils literal"><span class="pre">managed=False</span></code> contains a
<a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a> that points to another
unmanaged model, then the intermediate table for the many-to-many
join will also not be created. However, the intermediary table
between one managed and one unmanaged model <em>will</em> be created.</p>
<p>If you need to change this default behavior, create the intermediary
table as an explicit model (with <code class="docutils literal"><span class="pre">managed</span></code> set as needed) and use
the <a class="reference internal" href="#django.db.models.ManyToManyField.through" title="django.db.models.ManyToManyField.through"><code class="xref py py-attr docutils literal"><span class="pre">ManyToManyField.through</span></code></a> attribute to make the relation
use your custom model.</p>
</li>
</ol>
<p>For tests involving models with <code class="docutils literal"><span class="pre">managed=False</span></code>, it&#8217;s up to you to ensure
the correct tables are created as part of the test setup.</p>
<p>If you&#8217;re interested in changing the Python-level behavior of a model class,
you <em>could</em> use <code class="docutils literal"><span class="pre">managed=False</span></code> and create a copy of an existing model.
However, there&#8217;s a better approach for that situation: proxy models.</p>
</dd></dl>

</div>
<div class="section" id="order-with-respect-to">
<h3><code class="docutils literal"><span class="pre">order_with_respect_to</span></code><a class="headerlink" href="#order-with-respect-to" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.order_with_respect_to">
<code class="descclassname">Options.</code><code class="descname">order_with_respect_to</code><a class="headerlink" href="#django.db.models.Options.order_with_respect_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks this object as &#8220;orderable&#8221; with respect to the given field. This is almost
always used with related objects to allow them to be ordered with respect to a
parent object. For example, if an <code class="docutils literal"><span class="pre">Answer</span></code> relates to a <code class="docutils literal"><span class="pre">Question</span></code> object,
and a question has more than one answer, and the order of answers matters, you&#8217;d
do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Question</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>
    <span class="c"># ...</span>

<span class="k">class</span> <span class="nc">Answer</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">question</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Question</span><span class="p">)</span>
    <span class="c"># ...</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">order_with_respect_to</span> <span class="o">=</span> <span class="s">&#39;question&#39;</span>
</pre></div>
</div>
<p>When <code class="docutils literal"><span class="pre">order_with_respect_to</span></code> is set, two additional methods are provided to
retrieve and to set the order of the related objects: <code class="docutils literal"><span class="pre">get_RELATED_order()</span></code>
and <code class="docutils literal"><span class="pre">set_RELATED_order()</span></code>, where <code class="docutils literal"><span class="pre">RELATED</span></code> is the lowercased model name. For
example, assuming that a <code class="docutils literal"><span class="pre">Question</span></code> object has multiple related <code class="docutils literal"><span class="pre">Answer</span></code>
objects, the list returned contains the primary keys of the related <code class="docutils literal"><span class="pre">Answer</span></code>
objects:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">question</span> <span class="o">=</span> <span class="n">Question</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">question</span><span class="o">.</span><span class="n">get_answer_order</span><span class="p">()</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
<p>The order of a <code class="docutils literal"><span class="pre">Question</span></code> object&#8217;s related <code class="docutils literal"><span class="pre">Answer</span></code> objects can be set by
passing in a list of <code class="docutils literal"><span class="pre">Answer</span></code> primary keys:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">question</span><span class="o">.</span><span class="n">set_answer_order</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>The related objects also get two methods, <code class="docutils literal"><span class="pre">get_next_in_order()</span></code> and
<code class="docutils literal"><span class="pre">get_previous_in_order()</span></code>, which can be used to access those objects in their
proper order. Assuming the <code class="docutils literal"><span class="pre">Answer</span></code> objects are ordered by <code class="docutils literal"><span class="pre">id</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">answer</span> <span class="o">=</span> <span class="n">Answer</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">answer</span><span class="o">.</span><span class="n">get_next_in_order</span><span class="p">()</span>
<span class="go">&lt;Answer: 3&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">answer</span><span class="o">.</span><span class="n">get_previous_in_order</span><span class="p">()</span>
<span class="go">&lt;Answer: 1&gt;</span>
</pre></div>
</div>
</dd></dl>

<div class="admonition-changing-order-with-respect-to admonition">
<p class="first admonition-title">Changing order_with_respect_to</p>
<p class="last"><code class="docutils literal"><span class="pre">order_with_respect_to</span></code> adds an additional field/database column
named <code class="docutils literal"><span class="pre">_order</span></code>, so be sure to make and apply the appropriate
migrations if you add or change <code class="docutils literal"><span class="pre">order_with_respect_to</span></code>
after your initial <code class="docutils literal"><span class="pre">migrate</span></code>.</p>
</div>
</div>
<div class="section" id="ordering">
<h3><code class="docutils literal"><span class="pre">ordering</span></code><a class="headerlink" href="#ordering" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.ordering">
<code class="descclassname">Options.</code><code class="descname">ordering</code><a class="headerlink" href="#django.db.models.Options.ordering" title="Permalink to this definition">¶</a></dt>
<dd><p>The default ordering for the object, for use when obtaining lists of objects:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;-order_date&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>This is a tuple or list of strings. Each string is a field name with an optional
&#8220;-&#8221; prefix, which indicates descending order. Fields without a leading &#8220;-&#8221; will
be ordered ascending. Use the string &#8221;?&#8221; to order randomly.</p>
<p>For example, to order by a <code class="docutils literal"><span class="pre">pub_date</span></code> field ascending, use this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;pub_date&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>To order by <code class="docutils literal"><span class="pre">pub_date</span></code> descending, use this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;-pub_date&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>To order by <code class="docutils literal"><span class="pre">pub_date</span></code> descending, then by <code class="docutils literal"><span class="pre">author</span></code> ascending, use this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;-pub_date&#39;</span><span class="p">,</span> <span class="s">&#39;author&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Ordering is not a free operation. Each field you add to the ordering
incurs a cost to your database. Each foreign key you add will
implicitly include all of its default orderings as well.</p>
</div>
</div>
<div class="section" id="permissions">
<h3><code class="docutils literal"><span class="pre">permissions</span></code><a class="headerlink" href="#permissions" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.permissions">
<code class="descclassname">Options.</code><code class="descname">permissions</code><a class="headerlink" href="#django.db.models.Options.permissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Extra permissions to enter into the permissions table when creating this object.
Add, delete and change permissions are automatically created for each
model. This example specifies an extra permission, <code class="docutils literal"><span class="pre">can_deliver_pizzas</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">permissions</span> <span class="o">=</span> <span class="p">((</span><span class="s">&quot;can_deliver_pizzas&quot;</span><span class="p">,</span> <span class="s">&quot;Can deliver pizzas&quot;</span><span class="p">),)</span>
</pre></div>
</div>
<p>This is a list or tuple of 2-tuples in the format <code class="docutils literal"><span class="pre">(permission_code,</span>
<span class="pre">human_readable_permission_name)</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="default-permissions">
<h3><code class="docutils literal"><span class="pre">default_permissions</span></code><a class="headerlink" href="#default-permissions" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.default_permissions">
<code class="descclassname">Options.</code><code class="descname">default_permissions</code><a class="headerlink" href="#django.db.models.Options.default_permissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Defaults to <code class="docutils literal"><span class="pre">('add',</span> <span class="pre">'change',</span> <span class="pre">'delete')</span></code>. You may customize this list,
for example, by setting this to an empty list if your app doesn&#8217;t require
any of the default permissions. It must be specified on the model before
the model is created by <code class="docutils literal"><span class="pre">migrate</span></code> in order to prevent any omitted
permissions from being created.</p>
</dd></dl>

</div>
<div class="section" id="proxy">
<h3><code class="docutils literal"><span class="pre">proxy</span></code><a class="headerlink" href="#proxy" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.proxy">
<code class="descclassname">Options.</code><code class="descname">proxy</code><a class="headerlink" href="#django.db.models.Options.proxy" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal"><span class="pre">proxy</span> <span class="pre">=</span> <span class="pre">True</span></code>, a model which subclasses another model will be treated as
a proxy model.</p>
</dd></dl>

</div>
<div class="section" id="select-on-save">
<h3><code class="docutils literal"><span class="pre">select_on_save</span></code><a class="headerlink" href="#select-on-save" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.select_on_save">
<code class="descclassname">Options.</code><code class="descname">select_on_save</code><a class="headerlink" href="#django.db.models.Options.select_on_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if Django will use the pre-1.6
<code class="xref py py-meth docutils literal"><span class="pre">django.db.models.Model.save()</span></code> algorithm. The old algorithm
uses <code class="docutils literal"><span class="pre">SELECT</span></code> to determine if there is an existing row to be updated.
The new algorithm tries an <code class="docutils literal"><span class="pre">UPDATE</span></code> directly. In some rare cases the
<code class="docutils literal"><span class="pre">UPDATE</span></code> of an existing row isn&#8217;t visible to Django. An example is the
PostgreSQL <code class="docutils literal"><span class="pre">ON</span> <span class="pre">UPDATE</span></code> trigger which returns <code class="docutils literal"><span class="pre">NULL</span></code>. In such cases the
new algorithm will end up doing an <code class="docutils literal"><span class="pre">INSERT</span></code> even when a row exists in
the database.</p>
<p>Usually there is no need to set this attribute. The default is
<code class="docutils literal"><span class="pre">False</span></code>.</p>
<p>See <code class="xref py py-meth docutils literal"><span class="pre">django.db.models.Model.save()</span></code> for more about the old and
new saving algorithm.</p>
</dd></dl>

</div>
<div class="section" id="unique-together">
<h3><code class="docutils literal"><span class="pre">unique_together</span></code><a class="headerlink" href="#unique-together" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.unique_together">
<code class="descclassname">Options.</code><code class="descname">unique_together</code><a class="headerlink" href="#django.db.models.Options.unique_together" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets of field names that, taken together, must be unique:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">unique_together</span> <span class="o">=</span> <span class="p">((</span><span class="s">&quot;driver&quot;</span><span class="p">,</span> <span class="s">&quot;restaurant&quot;</span><span class="p">),)</span>
</pre></div>
</div>
<p>This is a tuple of tuples that must be unique when considered together.
It&#8217;s used in the Django admin and is enforced at the database level (i.e., the
appropriate <code class="docutils literal"><span class="pre">UNIQUE</span></code> statements are included in the <code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code>
statement).</p>
<p>For convenience, unique_together can be a single tuple when dealing with a single
set of fields:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">unique_together</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;driver&quot;</span><span class="p">,</span> <span class="s">&quot;restaurant&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>A <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a> cannot be included in
unique_together. (It&#8217;s not clear what that would even mean!) If you
need to validate uniqueness related to a
<a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal"><span class="pre">ManyToManyField</span></code></a>, try using a signal or
an explicit <a class="reference internal" href="#django.db.models.ManyToManyField.through" title="django.db.models.ManyToManyField.through"><code class="xref py py-attr docutils literal"><span class="pre">through</span></code></a> model.</p>
<p>The <code class="docutils literal"><span class="pre">ValidationError</span></code> raised during model validation when the constraint
is violated has the <code class="docutils literal"><span class="pre">unique_together</span></code> error code.</p>
</dd></dl>

</div>
<div class="section" id="index-together">
<h3><code class="docutils literal"><span class="pre">index_together</span></code><a class="headerlink" href="#index-together" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.index_together">
<code class="descclassname">Options.</code><code class="descname">index_together</code><a class="headerlink" href="#django.db.models.Options.index_together" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets of field names that, taken together, are indexed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">index_together</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s">&quot;pub_date&quot;</span><span class="p">,</span> <span class="s">&quot;deadline&quot;</span><span class="p">],</span>
<span class="p">]</span>
</pre></div>
</div>
<p>This list of fields will be indexed together (i.e. the appropriate
<code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">INDEX</span></code> statement will be issued.)</p>
<p>For convenience, <code class="docutils literal"><span class="pre">index_together</span></code> can be a single list when dealing with a single
set of fields:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">index_together</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;pub_date&quot;</span><span class="p">,</span> <span class="s">&quot;deadline&quot;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="id5">
<h3><code class="docutils literal"><span class="pre">verbose_name</span></code><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.verbose_name">
<code class="descclassname">Options.</code><code class="descname">verbose_name</code><a class="headerlink" href="#django.db.models.Options.verbose_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A human-readable name for the object, singular:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">verbose_name</span> <span class="o">=</span> <span class="s">&quot;pizza&quot;</span>
</pre></div>
</div>
<p>If this isn&#8217;t given, Django will use a munged version of the class name:
<code class="docutils literal"><span class="pre">CamelCase</span></code> becomes <code class="docutils literal"><span class="pre">camel</span> <span class="pre">case</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="verbose-name-plural">
<h3><code class="docutils literal"><span class="pre">verbose_name_plural</span></code><a class="headerlink" href="#verbose-name-plural" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.verbose_name_plural">
<code class="descclassname">Options.</code><code class="descname">verbose_name_plural</code><a class="headerlink" href="#django.db.models.Options.verbose_name_plural" title="Permalink to this definition">¶</a></dt>
<dd><p>The plural name for the object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s">&quot;stories&quot;</span>
</pre></div>
</div>
<p>If this isn&#8217;t given, Django will use <a class="reference internal" href="#django.db.models.Options.verbose_name" title="django.db.models.Options.verbose_name"><code class="xref py py-attr docutils literal"><span class="pre">verbose_name</span></code></a> + <code class="docutils literal"><span class="pre">&quot;s&quot;</span></code>.</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="front_matter.html">Frontmatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction_django.html">Introduction to Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_01.html">Chapter 1: Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_02.html">Chapter 2: Views and URLconfs</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_03.html">Chapter 3: Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_04.html">Chapter 4: Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_05.html">Chapter 5: The Django Admin Site</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_06.html">Chapter 6: Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_07.html">Chapter 7: Advanced Views and URLconfs</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_08.html">Chapter 8: Advanced Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_09.html">Chapter 9: Advanced Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_10.html">Chapter 10: Generic Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_11.html">Chapter 11: User authentication in Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_12.html">Chapter 12 - testing in Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_13.html">Chapter 13: Deploying Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_14.html">Chapter 14 - How to write reusable apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_15.html">Chapter 15: Generating Non-HTML Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_16.html">Chapter 16 - Django sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_17.html">Chapter 17 - Django&#8217;s cache framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_18.html">Chapter 18 - Other core Django functionalities</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_19.html">Chapter 19 - Django Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_20.html">Chapter 20: Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter_21.html">Chapter 21: Security in Django</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Appendix A: Model Definition Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#fields">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="#universal-field-options">Universal Field Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#field-attribute-reference">Field attribute reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="#attributes-for-fields">Attributes for fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="#attributes-for-fields-with-relations">Attributes for fields with relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#relationships">Relationships</a></li>
<li class="toctree-l2"><a class="reference internal" href="#model-metadata-options">Model Metadata Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix_B.html">Appendix B: Database API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_C.html">Appendix C: Generic View Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_D.html">Appendix D: Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_E.html">Appendix E: Built-in Template Tags and Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_F.html">Appendix F: The django-admin Utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_G.html">Appendix G: Request and Response Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License &amp; Copyright</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
            <p class="searchtip" style="font-size: 90%">
                Enter search terms or a module, class or function name.
            </p>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="chapter_21.html" title="Chapter 21: Security in Django"
              >previous</a> |
            <a href="appendix_B.html" title="Appendix B: Database API Reference"
              >next</a> |
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/appendix_A.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Nigel George.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>